import _Object$defineProperty from "@babel/runtime-corejs3/core-js-stable/object/define-property";
import _Object$defineProperties from "@babel/runtime-corejs3/core-js-stable/object/define-properties";
import _Object$getOwnPropertyDescriptors from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors";
import _forEachInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/for-each";
import _Object$getOwnPropertyDescriptor from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor";
import _filterInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/filter";
import _Object$getOwnPropertySymbols from "@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols";
import "core-js/modules/es.array.iterator";
import "core-js/modules/es.promise";
import "core-js/modules/es.string.replace";
import _WeakMap from "@babel/runtime-corejs3/core-js-stable/weak-map";
import _concatInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/concat";
import _Date$now from "@babel/runtime-corejs3/core-js-stable/date/now";
import _JSON$stringify from "@babel/runtime-corejs3/core-js-stable/json/stringify";
import _classPrivateFieldGet from "@babel/runtime-corejs3/helpers/classPrivateFieldGet";
import _classPrivateFieldSet from "@babel/runtime-corejs3/helpers/classPrivateFieldSet";
import _mapInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/map";
import _setTimeout from "@babel/runtime-corejs3/core-js-stable/set-timeout";
import _parseInt from "@babel/runtime-corejs3/core-js-stable/parse-int";
import _Object$keys from "@babel/runtime-corejs3/core-js-stable/object/keys";
import _objectWithoutProperties from "@babel/runtime-corejs3/helpers/objectWithoutProperties";
import _Array$isArray from "@babel/runtime-corejs3/core-js-stable/array/is-array";
import _Promise from "@babel/runtime-corejs3/core-js-stable/promise";
import _trimInstanceProperty from "@babel/runtime-corejs3/core-js-stable/instance/trim";
import _defineProperty from "@babel/runtime-corejs3/helpers/defineProperty";
function ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { var _context5; _forEachInstanceProperty(_context5 = ownKeys(Object(source), true)).call(_context5, function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { var _context6; _forEachInstanceProperty(_context6 = ownKeys(Object(source))).call(_context6, function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }
/**
 * @file Manages Salesforce Bulk API related operations
 * @author Shinichi Tomita <shinichi.tomita@gmail.com>
 */
import { EventEmitter } from 'events';
import { Writable } from 'stream';
import joinStreams from 'multistream';
import { Serializable, Parsable } from '../record-stream';
import HttpApi from '../http-api';
import { registerModule } from '../jsforce';
import { concatStreamsAsDuplex } from '../util/stream';
import { isFunction, isObject } from '../util/function';

/*--------------------------------------------*/

/**
 * Class for Bulk API Job
 */
export class Job extends EventEmitter {
  /**
   *
   */
  constructor(bulk, type, operation, options, jobId) {
    super();
    _defineProperty(this, "type", void 0);
    _defineProperty(this, "operation", void 0);
    _defineProperty(this, "options", void 0);
    _defineProperty(this, "id", void 0);
    _defineProperty(this, "state", void 0);
    _defineProperty(this, "_bulk", void 0);
    _defineProperty(this, "_batches", void 0);
    _defineProperty(this, "_jobInfo", void 0);
    _defineProperty(this, "_error", void 0);
    this._bulk = bulk;
    this.type = type;
    this.operation = operation;
    this.options = options || {};
    this.id = jobId !== null && jobId !== void 0 ? jobId : null;
    this.state = this.id ? 'Open' : 'Unknown';
    this._batches = {};
    // default error handler to keep the latest error
    this.on('error', error => this._error = error);
  }

  /**
   * Return latest jobInfo from cache
   */
  info() {
    // if cache is not available, check the latest
    if (!this._jobInfo) {
      this._jobInfo = this.check();
    }
    return this._jobInfo;
  }

  /**
   * Open new job and get jobinfo
   */
  open() {
    const bulk = this._bulk;
    const options = this.options;

    // if sobject type / operation is not provided
    if (!this.type || !this.operation) {
      throw new Error('type / operation is required to open a new job');
    }

    // if not requested opening job
    if (!this._jobInfo) {
      var _context;
      let operation = this.operation.toLowerCase();
      if (operation === 'harddelete') {
        operation = 'hardDelete';
      }
      if (operation === 'queryall') {
        operation = 'queryAll';
      }
      const body = _trimInstanceProperty(_context = `
<?xml version="1.0" encoding="UTF-8"?>
<jobInfo  xmlns="http://www.force.com/2009/06/asyncapi/dataload">
  <operation>${operation}</operation>
  <object>${this.type}</object>
  ${options.extIdField ? `<externalIdFieldName>${options.extIdField}</externalIdFieldName>` : ''}
  ${options.concurrencyMode ? `<concurrencyMode>${options.concurrencyMode}</concurrencyMode>` : ''}
  ${options.assignmentRuleId ? `<assignmentRuleId>${options.assignmentRuleId}</assignmentRuleId>` : ''}
  <contentType>CSV</contentType>
</jobInfo>
      `).call(_context);
      this._jobInfo = (async () => {
        try {
          const res = await bulk._request({
            method: 'POST',
            path: '/job',
            body,
            headers: {
              'Content-Type': 'application/xml; charset=utf-8'
            },
            responseType: 'application/xml'
          });
          this.emit('open', res.jobInfo);
          this.id = res.jobInfo.id;
          this.state = res.jobInfo.state;
          return res.jobInfo;
        } catch (err) {
          this.emit('error', err);
          throw err;
        }
      })();
    }
    return this._jobInfo;
  }

  /**
   * Create a new batch instance in the job
   */
  createBatch() {
    const batch = new Batch(this);
    batch.on('queue', () => {
      this._batches[batch.id] = batch;
    });
    return batch;
  }

  /**
   * Get a batch instance specified by given batch ID
   */
  batch(batchId) {
    let batch = this._batches[batchId];
    if (!batch) {
      batch = new Batch(this, batchId);
      this._batches[batchId] = batch;
    }
    return batch;
  }

  /**
   * Check the latest job status from server
   */
  check() {
    const bulk = this._bulk;
    const logger = bulk._logger;
    this._jobInfo = (async () => {
      const jobId = await this.ready();
      const res = await bulk._request({
        method: 'GET',
        path: '/job/' + jobId,
        responseType: 'application/xml'
      });
      logger.debug(res.jobInfo);
      this.id = res.jobInfo.id;
      this.type = res.jobInfo.object;
      this.operation = res.jobInfo.operation;
      this.state = res.jobInfo.state;
      return res.jobInfo;
    })();
    return this._jobInfo;
  }

  /**
   * Wait till the job is assigned to server
   */
  ready() {
    return this.id ? _Promise.resolve(this.id) : this.open().then(({
      id
    }) => id);
  }

  /**
   * List all registered batch info in job
   */
  async list() {
    const bulk = this._bulk;
    const logger = bulk._logger;
    const jobId = await this.ready();
    const res = await bulk._request({
      method: 'GET',
      path: '/job/' + jobId + '/batch',
      responseType: 'application/xml'
    });
    logger.debug(res.batchInfoList.batchInfo);
    const batchInfoList = _Array$isArray(res.batchInfoList.batchInfo) ? res.batchInfoList.batchInfo : [res.batchInfoList.batchInfo];
    return batchInfoList;
  }

  /**
   * Close opened job
   */
  async close() {
    if (!this.id) {
      return;
    }
    try {
      const jobInfo = await this._changeState('Closed');
      this.id = null;
      this.emit('close', jobInfo);
      return jobInfo;
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }

  /**
   * Set the status to abort
   */
  async abort() {
    if (!this.id) {
      return;
    }
    try {
      const jobInfo = await this._changeState('Aborted');
      this.id = null;
      this.emit('abort', jobInfo);
      return jobInfo;
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }

  /**
   * @private
   */
  async _changeState(state) {
    const bulk = this._bulk;
    const logger = bulk._logger;
    this._jobInfo = (async () => {
      var _context2;
      const jobId = await this.ready();
      const body = _trimInstanceProperty(_context2 = ` 
<?xml version="1.0" encoding="UTF-8"?>
  <jobInfo xmlns="http://www.force.com/2009/06/asyncapi/dataload">
  <state>${state}</state>
</jobInfo>
      `).call(_context2);
      const res = await bulk._request({
        method: 'POST',
        path: '/job/' + jobId,
        body: body,
        headers: {
          'Content-Type': 'application/xml; charset=utf-8'
        },
        responseType: 'application/xml'
      });
      logger.debug(res.jobInfo);
      this.state = res.jobInfo.state;
      return res.jobInfo;
    })();
    return this._jobInfo;
  }
}

/*--------------------------------------------*/
class PollingTimeoutError extends Error {
  /**
   *
   */
  constructor(message, jobId, batchId) {
    super(message);
    _defineProperty(this, "jobId", void 0);
    _defineProperty(this, "batchId", void 0);
    this.name = 'PollingTimeout';
    this.jobId = jobId;
    this.batchId = batchId;
  }
}
class JobPollingTimeoutError extends Error {
  /**
   *
   */
  constructor(message, jobId) {
    super(message);
    _defineProperty(this, "jobId", void 0);
    this.name = 'JobPollingTimeout';
    this.jobId = jobId;
  }
}

/*--------------------------------------------*/
/**
 * Batch (extends Writable)
 */
export class Batch extends Writable {
  /**
   *
   */
  constructor(job, id) {
    super({
      objectMode: true
    });
    _defineProperty(this, "job", void 0);
    _defineProperty(this, "id", void 0);
    _defineProperty(this, "_bulk", void 0);
    _defineProperty(this, "_uploadStream", void 0);
    _defineProperty(this, "_downloadStream", void 0);
    _defineProperty(this, "_dataStream", void 0);
    _defineProperty(this, "_result", void 0);
    _defineProperty(this, "_error", void 0);
    _defineProperty(this, "run", this.execute);
    _defineProperty(this, "exec", this.execute);
    this.job = job;
    this.id = id;
    this._bulk = job._bulk;

    // default error handler to keep the latest error
    this.on('error', error => this._error = error);

    //
    // setup data streams
    //
    const converterOptions = {
      nullValue: '#N/A'
    };
    const uploadStream = this._uploadStream = new Serializable();
    const uploadDataStream = uploadStream.stream('csv', converterOptions);
    const downloadStream = this._downloadStream = new Parsable();
    const downloadDataStream = downloadStream.stream('csv', converterOptions);
    this.on('finish', () => uploadStream.end());
    uploadDataStream.once('readable', async () => {
      try {
        // ensure the job is opened in server or job id is already assigned
        await this.job.ready();
        // pipe upload data to batch API request stream
        uploadDataStream.pipe(this._createRequestStream());
      } catch (err) {
        this.emit('error', err);
      }
    });

    // duplex data stream, opened access to API programmers by Batch#stream()
    this._dataStream = concatStreamsAsDuplex(uploadDataStream, downloadDataStream);
  }

  /**
   * Connect batch API and create stream instance of request/response
   *
   * @private
   */
  _createRequestStream() {
    const bulk = this._bulk;
    const logger = bulk._logger;
    const req = bulk._request({
      method: 'POST',
      path: '/job/' + this.job.id + '/batch',
      headers: {
        'Content-Type': 'text/csv'
      },
      responseType: 'application/xml'
    });
    (async () => {
      try {
        const res = await req;
        logger.debug(res.batchInfo);
        this.id = res.batchInfo.id;
        this.emit('queue', res.batchInfo);
      } catch (err) {
        this.emit('error', err);
      }
    })();
    return req.stream();
  }

  /**
   * Implementation of Writable
   */
  _write(record_, enc, cb) {
    const {
        Id,
        type,
        attributes
      } = record_,
      rrec = _objectWithoutProperties(record_, ["Id", "type", "attributes"]);
    let record;
    switch (this.job.operation) {
      case 'insert':
        record = rrec;
        break;
      case 'delete':
      case 'hardDelete':
        record = {
          Id
        };
        break;
      default:
        record = _objectSpread({
          Id
        }, rrec);
    }
    this._uploadStream.write(record, enc, cb);
  }

  /**
   * Returns duplex stream which accepts CSV data input and batch result output
   */
  stream() {
    return this._dataStream;
  }

  /**
   * Execute batch operation
   */
  execute(input) {
    // if batch is already executed
    if (this._result) {
      throw new Error('Batch already executed.');
    }
    this._result = new _Promise((resolve, reject) => {
      this.once('response', resolve);
      this.once('error', reject);
    });
    if (isObject(input) && 'pipe' in input && isFunction(input.pipe)) {
      // if input has stream.Readable interface
      input.pipe(this._dataStream);
    } else {
      if (_Array$isArray(input)) {
        for (const record of input) {
          for (const key of _Object$keys(record)) {
            if (typeof record[key] === 'boolean') {
              record[key] = String(record[key]);
            }
          }
          this.write(record);
        }
        this.end();
      } else if (typeof input === 'string') {
        this._dataStream.write(input, 'utf8');
        this._dataStream.end();
      }
    }

    // return Batch instance for chaining
    return this;
  }
  /**
   * Promise/A+ interface
   * Delegate to promise, return promise instance for batch result
   */
  then(onResolved, onReject) {
    if (!this._result) {
      this.execute();
    }
    return this._result.then(onResolved, onReject);
  }

  /**
   * Check the latest batch status in server
   */
  async check() {
    const bulk = this._bulk;
    const logger = bulk._logger;
    const jobId = this.job.id;
    const batchId = this.id;
    if (!jobId || !batchId) {
      throw new Error('Batch not started.');
    }
    const res = await bulk._request({
      method: 'GET',
      path: '/job/' + jobId + '/batch/' + batchId,
      responseType: 'application/xml'
    });
    logger.debug(res.batchInfo);
    return res.batchInfo;
  }

  /**
   * Polling the batch result and retrieve
   */
  poll(interval, timeout) {
    const jobId = this.job.id;
    const batchId = this.id;
    if (!jobId || !batchId) {
      throw new Error('Batch not started.');
    }
    const startTime = new Date().getTime();
    const poll = async () => {
      const now = new Date().getTime();
      if (startTime + timeout < now) {
        const err = new PollingTimeoutError('Polling time out. Job Id = ' + jobId + ' , batch Id = ' + batchId, jobId, batchId);
        this.emit('error', err);
        return;
      }
      let res;
      try {
        res = await this.check();
      } catch (err) {
        this.emit('error', err);
        return;
      }
      if (res.state === 'Failed') {
        if (_parseInt(res.numberRecordsProcessed, 10) > 0) {
          this.retrieve();
        } else {
          this.emit('error', new Error(res.stateMessage));
        }
      } else if (res.state === 'Completed') {
        this.retrieve();
      } else {
        this.emit('progress', res);
        _setTimeout(poll, interval);
      }
    };
    _setTimeout(poll, interval);
  }

  /**
   * Retrieve batch result
   */
  async retrieve() {
    const bulk = this._bulk;
    const jobId = this.job.id;
    const job = this.job;
    const batchId = this.id;
    if (!jobId || !batchId) {
      throw new Error('Batch not started.');
    }
    try {
      const resp = await bulk._request({
        method: 'GET',
        path: '/job/' + jobId + '/batch/' + batchId + '/result'
      });
      let results;
      if (job.operation === 'query' || job.operation === 'queryAll') {
        var _context3;
        const res = resp;
        let resultId = res['result-list'].result;
        results = _mapInstanceProperty(_context3 = _Array$isArray(resultId) ? resultId : [resultId]).call(_context3, id => ({
          id,
          batchId,
          jobId
        }));
      } else {
        const res = resp;
        results = _mapInstanceProperty(res).call(res, ret => ({
          id: ret.Id || null,
          success: ret.Success === 'true',
          errors: ret.Error ? [ret.Error] : []
        }));
      }
      this.emit('response', results);
      return results;
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }

  /**
   * Fetch query result as a record stream
   * @param {String} resultId - Result id
   * @returns {RecordStream} - Record stream, convertible to CSV data stream
   */
  result(resultId) {
    const jobId = this.job.id;
    const batchId = this.id;
    if (!jobId || !batchId) {
      throw new Error('Batch not started.');
    }
    const resultStream = new Parsable();
    const resultDataStream = resultStream.stream('csv');
    this._bulk._request({
      method: 'GET',
      path: '/job/' + jobId + '/batch/' + batchId + '/result/' + resultId,
      responseType: 'application/octet-stream'
    }).stream().pipe(resultDataStream);
    return resultStream;
  }
}

/*--------------------------------------------*/
/**
 *
 */
class BulkApi extends HttpApi {
  beforeSend(request) {
    var _this$_conn$accessTok;
    request.headers = _objectSpread(_objectSpread({}, request.headers), {}, {
      'X-SFDC-SESSION': (_this$_conn$accessTok = this._conn.accessToken) !== null && _this$_conn$accessTok !== void 0 ? _this$_conn$accessTok : ''
    });
  }
  isSessionExpired(response) {
    return response.statusCode === 400 && /<exceptionCode>InvalidSessionId<\/exceptionCode>/.test(response.body);
  }
  hasErrorInResponseBody(body) {
    return !!body.error;
  }
  parseError(body) {
    return {
      errorCode: body.error.exceptionCode,
      message: body.error.exceptionMessage
    };
  }
}
class BulkApiV2 extends HttpApi {
  hasErrorInResponseBody(body) {
    return _Array$isArray(body) && typeof body[0] === 'object' && 'errorCode' in body[0];
  }
  isSessionExpired(response) {
    return response.statusCode === 401 && /INVALID_SESSION_ID/.test(response.body);
  }
  parseError(body) {
    return {
      errorCode: body[0].errorCode,
      message: body[0].message
    };
  }
}

/*--------------------------------------------*/

/**
 * Class for Bulk API
 *
 * @class
 */
export class Bulk {
  /**
   * Polling interval in milliseconds
   */

  /**
   * Polling timeout in milliseconds
   * @type {Number}
   */

  /**
   *
   */
  constructor(conn) {
    _defineProperty(this, "_conn", void 0);
    _defineProperty(this, "_logger", void 0);
    _defineProperty(this, "pollInterval", 1000);
    _defineProperty(this, "pollTimeout", 10000);
    this._conn = conn;
    this._logger = conn._logger;
  }

  /**
   *
   */
  _request(request_) {
    const conn = this._conn;
    const {
        path,
        responseType
      } = request_,
      rreq = _objectWithoutProperties(request_, ["path", "responseType"]);
    const baseUrl = [conn.instanceUrl, 'services/async', conn.version].join('/');
    const request = _objectSpread(_objectSpread({}, rreq), {}, {
      url: baseUrl + path
    });
    return new BulkApi(this._conn, {
      responseType
    }).request(request);
  }

  /**
   * Create and start bulkload job and batch
   */

  load(type, operation, optionsOrInput, input) {
    let options = {};
    if (typeof optionsOrInput === 'string' || _Array$isArray(optionsOrInput) || isObject(optionsOrInput) && 'pipe' in optionsOrInput && typeof optionsOrInput.pipe === 'function') {
      // when options is not plain hash object, it is omitted
      input = optionsOrInput;
    } else {
      options = optionsOrInput;
    }
    const job = this.createJob(type, operation, options);
    const batch = job.createBatch();
    const cleanup = () => job.close();
    const cleanupOnError = err => {
      if (err.name !== 'PollingTimeout') {
        cleanup();
      }
    };
    batch.on('response', cleanup);
    batch.on('error', cleanupOnError);
    batch.on('queue', () => {
      batch === null || batch === void 0 ? void 0 : batch.poll(this.pollInterval, this.pollTimeout);
    });
    return batch.execute(input);
  }

  /**
   * Execute bulk query and get record stream
   */
  query(soql) {
    const m = soql.replace(/\([\s\S]+\)/g, '').match(/FROM\s+(\w+)/i);
    if (!m) {
      throw new Error('No sobject type found in query, maybe caused by invalid SOQL.');
    }
    const type = m[1];
    const recordStream = new Parsable();
    const dataStream = recordStream.stream('csv');
    (async () => {
      try {
        const results = await this.load(type, 'query', soql);
        const streams = _mapInstanceProperty(results).call(results, result => this.job(result.jobId).batch(result.batchId).result(result.id).stream());
        joinStreams(streams).pipe(dataStream);
      } catch (err) {
        recordStream.emit('error', err);
      }
    })();
    return recordStream;
  }

  /**
   * Create a new job instance
   */
  createJob(type, operation, options = {}) {
    return new Job(this, type, operation, options);
  }

  /**
   * Get a job instance specified by given job ID
   *
   * @param {String} jobId - Job ID
   * @returns {Bulk~Job}
   */
  job(jobId) {
    return new Job(this, null, null, null, jobId);
  }
}
var _connection = new _WeakMap();
export class BulkV2 {
  /**
   * Polling interval in milliseconds
   */

  /**
   * Polling timeout in milliseconds
   * @type {Number}
   */

  constructor(connection) {
    _connection.set(this, {
      writable: true,
      value: void 0
    });
    _defineProperty(this, "pollInterval", 1000);
    _defineProperty(this, "pollTimeout", 10000);
    _classPrivateFieldSet(this, _connection, connection);
  }

  /**
   * Create a new job instance
   */
  createJob(options) {
    return new IngestJobV2({
      connection: _classPrivateFieldGet(this, _connection),
      jobInfo: options,
      pollingOptions: this
    });
  }
  job(options) {
    return new IngestJobV2({
      connection: _classPrivateFieldGet(this, _connection),
      jobInfo: options,
      pollingOptions: this
    });
  }

  /**
   * Create, upload, and start bulkload job
   */
  async loadAndWaitForResults(options) {
    const job = this.createJob(options);
    try {
      await job.open();
      await job.uploadData(options.input);
      await job.close();
      await job.poll(options.pollInterval, options.pollTimeout);
      return await job.getAllResults();
    } catch (err) {
      if (err.name !== 'JobPollingTimeoutError') {
        // fires off one last attempt to clean up and ignores the result | error
        job.delete().catch(ignored => ignored);
      }
      throw err;
    }
  }

  /**
   * Execute bulk query and get record stream
   */
  async query(soql, options) {
    const queryJob = new QueryJobV2({
      connection: _classPrivateFieldGet(this, _connection),
      operation: 'query',
      query: soql,
      pollingOptions: this
    });
    try {
      await queryJob.open();
      await queryJob.poll(options === null || options === void 0 ? void 0 : options.pollInterval, options === null || options === void 0 ? void 0 : options.pollTimeout);
      return await queryJob.getResults();
    } catch (err) {
      if (err.name !== 'JobPollingTimeoutError') {
        // fires off one last attempt to clean up and ignores the result | error
        queryJob.delete().catch(ignored => ignored);
      }
      throw err;
    }
  }
}
var _connection2 = new _WeakMap();
var _operation = new _WeakMap();
var _query = new _WeakMap();
var _pollingOptions = new _WeakMap();
var _queryResults = new _WeakMap();
var _error = new _WeakMap();
export class QueryJobV2 extends EventEmitter {
  constructor(options) {
    super();
    _connection2.set(this, {
      writable: true,
      value: void 0
    });
    _operation.set(this, {
      writable: true,
      value: void 0
    });
    _query.set(this, {
      writable: true,
      value: void 0
    });
    _pollingOptions.set(this, {
      writable: true,
      value: void 0
    });
    _queryResults.set(this, {
      writable: true,
      value: void 0
    });
    _error.set(this, {
      writable: true,
      value: void 0
    });
    _defineProperty(this, "jobInfo", void 0);
    _defineProperty(this, "locator", void 0);
    _defineProperty(this, "finished", false);
    _classPrivateFieldSet(this, _connection2, options.connection);
    _classPrivateFieldSet(this, _operation, options.operation);
    _classPrivateFieldSet(this, _query, options.query);
    _classPrivateFieldSet(this, _pollingOptions, options.pollingOptions);
    // default error handler to keep the latest error
    this.on('error', error => _classPrivateFieldSet(this, _error, error));
  }
  async open() {
    try {
      this.jobInfo = await this.createQueryRequest({
        method: 'POST',
        path: '',
        body: _JSON$stringify({
          operation: _classPrivateFieldGet(this, _operation),
          query: _classPrivateFieldGet(this, _query)
        }),
        headers: {
          'Content-Type': 'application/json; charset=utf-8'
        },
        responseType: 'application/json'
      });
      this.emit('open');
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }

  /**
   * Set the status to abort
   */
  async abort() {
    try {
      var _this$jobInfo;
      const state = 'Aborted';
      this.jobInfo = await this.createQueryRequest({
        method: 'PATCH',
        path: `/${(_this$jobInfo = this.jobInfo) === null || _this$jobInfo === void 0 ? void 0 : _this$jobInfo.id}`,
        body: _JSON$stringify({
          state
        }),
        headers: {
          'Content-Type': 'application/json; charset=utf-8'
        },
        responseType: 'application/json'
      });
      this.emit('aborted');
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }
  async poll(interval = _classPrivateFieldGet(this, _pollingOptions).pollInterval, timeout = _classPrivateFieldGet(this, _pollingOptions).pollTimeout) {
    const jobId = getJobIdOrError(this.jobInfo);
    const startTime = _Date$now();
    while (startTime + timeout > _Date$now()) {
      try {
        const res = await this.check();
        switch (res.state) {
          case 'Open':
            throw new Error('Job has not been started');
          case 'Aborted':
            throw new Error('Job has been aborted');
          case 'UploadComplete':
          case 'InProgress':
            await delay(interval);
            break;
          case 'Failed':
            this.emit('failed');
            return;
          case 'JobComplete':
            this.emit('jobcomplete');
            return;
        }
      } catch (err) {
        this.emit('error', err);
        throw err;
      }
    }
    const timeoutError = new JobPollingTimeoutError(`Polling time out. Job Id = ${jobId}`, jobId);
    this.emit('error', timeoutError);
    throw timeoutError;
  }

  /**
   * Check the latest batch status in server
   */
  async check() {
    try {
      const jobInfo = await this.createQueryRequest({
        method: 'GET',
        path: `/${getJobIdOrError(this.jobInfo)}`,
        responseType: 'application/json'
      });
      this.jobInfo = jobInfo;
      return jobInfo;
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }
  request(request, options = {}) {
    // if request is simple string, regard it as url in GET method
    let request_ = typeof request === 'string' ? {
      method: 'GET',
      url: request
    } : request;
    const httpApi = new HttpApi(_classPrivateFieldGet(this, _connection2), options);
    httpApi.on('response', response => {
      this.locator = response.headers['sforce-locator'];
    });
    return httpApi.request(request_);
  }
  getResultsUrl() {
    const url = `${_classPrivateFieldGet(this, _connection2).instanceUrl}/services/data/v${_classPrivateFieldGet(this, _connection2).version}/jobs/query/${getJobIdOrError(this.jobInfo)}/results`;
    return this.locator ? `${url}?locator=${this.locator}` : url;
  }
  async getResults() {
    if (this.finished && _classPrivateFieldGet(this, _queryResults)) {
      return _classPrivateFieldGet(this, _queryResults);
    }
    _classPrivateFieldSet(this, _queryResults, []);
    while (this.locator !== 'null') {
      var _context4;
      const nextResults = await this.request({
        method: 'GET',
        url: this.getResultsUrl(),
        headers: {
          Accept: 'text/csv'
        }
      });
      _classPrivateFieldSet(this, _queryResults, _concatInstanceProperty(_context4 = _classPrivateFieldGet(this, _queryResults)).call(_context4, nextResults));
    }
    this.finished = true;
    return _classPrivateFieldGet(this, _queryResults);
  }
  async delete() {
    return this.createQueryRequest({
      method: 'DELETE',
      path: `/${getJobIdOrError(this.jobInfo)}`
    });
  }
  createQueryRequest(request) {
    const {
      path,
      responseType
    } = request;
    const baseUrl = [_classPrivateFieldGet(this, _connection2).instanceUrl, 'services/data', `v${_classPrivateFieldGet(this, _connection2).version}`, 'jobs/query'].join('/');
    return new BulkApiV2(_classPrivateFieldGet(this, _connection2), {
      responseType
    }).request(_objectSpread(_objectSpread({}, request), {}, {
      url: baseUrl + path
    }));
  }
}

/**
 * Class for Bulk API V2 Ingest Job
 */
var _connection3 = new _WeakMap();
var _pollingOptions2 = new _WeakMap();
var _jobData = new _WeakMap();
var _bulkJobSuccessfulResults = new _WeakMap();
var _bulkJobFailedResults = new _WeakMap();
var _bulkJobUnprocessedRecords = new _WeakMap();
var _error2 = new _WeakMap();
export class IngestJobV2 extends EventEmitter {
  /**
   *
   */
  constructor(options) {
    super();
    _connection3.set(this, {
      writable: true,
      value: void 0
    });
    _pollingOptions2.set(this, {
      writable: true,
      value: void 0
    });
    _jobData.set(this, {
      writable: true,
      value: void 0
    });
    _bulkJobSuccessfulResults.set(this, {
      writable: true,
      value: void 0
    });
    _bulkJobFailedResults.set(this, {
      writable: true,
      value: void 0
    });
    _bulkJobUnprocessedRecords.set(this, {
      writable: true,
      value: void 0
    });
    _error2.set(this, {
      writable: true,
      value: void 0
    });
    _defineProperty(this, "jobInfo", void 0);
    _classPrivateFieldSet(this, _connection3, options.connection);
    _classPrivateFieldSet(this, _pollingOptions2, options.pollingOptions);
    this.jobInfo = options.jobInfo;
    _classPrivateFieldSet(this, _jobData, new JobDataV2({
      createRequest: request => this.createIngestRequest(request),
      job: this
    }));
    // default error handler to keep the latest error
    this.on('error', error => _classPrivateFieldSet(this, _error2, error));
  }
  get id() {
    return this.jobInfo.id;
  }
  async open() {
    try {
      var _this$jobInfo2, _this$jobInfo3, _this$jobInfo4, _this$jobInfo5, _this$jobInfo6;
      this.jobInfo = await this.createIngestRequest({
        method: 'POST',
        path: '',
        body: _JSON$stringify({
          assignmentRuleId: (_this$jobInfo2 = this.jobInfo) === null || _this$jobInfo2 === void 0 ? void 0 : _this$jobInfo2.assignmentRuleId,
          externalIdFieldName: (_this$jobInfo3 = this.jobInfo) === null || _this$jobInfo3 === void 0 ? void 0 : _this$jobInfo3.externalIdFieldName,
          object: (_this$jobInfo4 = this.jobInfo) === null || _this$jobInfo4 === void 0 ? void 0 : _this$jobInfo4.object,
          operation: (_this$jobInfo5 = this.jobInfo) === null || _this$jobInfo5 === void 0 ? void 0 : _this$jobInfo5.operation,
          lineEnding: (_this$jobInfo6 = this.jobInfo) === null || _this$jobInfo6 === void 0 ? void 0 : _this$jobInfo6.lineEnding
        }),
        headers: {
          'Content-Type': 'application/json; charset=utf-8'
        },
        responseType: 'application/json'
      });
      this.emit('open');
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }
  async uploadData(input) {
    await _classPrivateFieldGet(this, _jobData).execute(input);
  }
  async getAllResults() {
    const [successfulResults, failedResults, unprocessedRecords] = await _Promise.all([this.getSuccessfulResults(), this.getFailedResults(), this.getUnprocessedRecords()]);
    return {
      successfulResults,
      failedResults,
      unprocessedRecords
    };
  }

  /**
   * Close opened job
   */
  async close() {
    try {
      const state = 'UploadComplete';
      this.jobInfo = await this.createIngestRequest({
        method: 'PATCH',
        path: `/${this.jobInfo.id}`,
        body: _JSON$stringify({
          state
        }),
        headers: {
          'Content-Type': 'application/json; charset=utf-8'
        },
        responseType: 'application/json'
      });
      this.emit('uploadcomplete');
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }

  /**
   * Set the status to abort
   */
  async abort() {
    try {
      const state = 'Aborted';
      this.jobInfo = await this.createIngestRequest({
        method: 'PATCH',
        path: `/${this.jobInfo.id}`,
        body: _JSON$stringify({
          state
        }),
        headers: {
          'Content-Type': 'application/json; charset=utf-8'
        },
        responseType: 'application/json'
      });
      this.emit('aborted');
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }
  async poll(interval = _classPrivateFieldGet(this, _pollingOptions2).pollInterval, timeout = _classPrivateFieldGet(this, _pollingOptions2).pollTimeout) {
    const jobId = getJobIdOrError(this.jobInfo);
    const startTime = _Date$now();
    while (startTime + timeout > _Date$now()) {
      try {
        const res = await this.check();
        switch (res.state) {
          case 'Open':
            throw new Error('Job has not been started');
          case 'Aborted':
            throw new Error('Job has been aborted');
          case 'UploadComplete':
          case 'InProgress':
            await delay(interval);
            break;
          case 'Failed':
            this.emit('failed');
            return;
          case 'JobComplete':
            this.emit('jobcomplete');
            return;
        }
      } catch (err) {
        this.emit('error', err);
        throw err;
      }
    }
    const timeoutError = new JobPollingTimeoutError(`Polling time out. Job Id = ${jobId}`, jobId);
    this.emit('error', timeoutError);
    throw timeoutError;
  }

  /**
   * Check the latest batch status in server
   */
  async check() {
    try {
      const jobInfo = await this.createIngestRequest({
        method: 'GET',
        path: `/${getJobIdOrError(this.jobInfo)}`,
        responseType: 'application/json'
      });
      this.jobInfo = jobInfo;
      return jobInfo;
    } catch (err) {
      this.emit('error', err);
      throw err;
    }
  }
  async getSuccessfulResults() {
    if (_classPrivateFieldGet(this, _bulkJobSuccessfulResults)) {
      return _classPrivateFieldGet(this, _bulkJobSuccessfulResults);
    }
    const results = await this.createIngestRequest({
      method: 'GET',
      path: `/${getJobIdOrError(this.jobInfo)}/successfulResults`,
      responseType: 'text/csv'
    });
    _classPrivateFieldSet(this, _bulkJobSuccessfulResults, results !== null && results !== void 0 ? results : []);
    return _classPrivateFieldGet(this, _bulkJobSuccessfulResults);
  }
  async getFailedResults() {
    if (_classPrivateFieldGet(this, _bulkJobFailedResults)) {
      return _classPrivateFieldGet(this, _bulkJobFailedResults);
    }
    const results = await this.createIngestRequest({
      method: 'GET',
      path: `/${getJobIdOrError(this.jobInfo)}/failedResults`,
      responseType: 'text/csv'
    });
    _classPrivateFieldSet(this, _bulkJobFailedResults, results !== null && results !== void 0 ? results : []);
    return _classPrivateFieldGet(this, _bulkJobFailedResults);
  }
  async getUnprocessedRecords() {
    if (_classPrivateFieldGet(this, _bulkJobUnprocessedRecords)) {
      return _classPrivateFieldGet(this, _bulkJobUnprocessedRecords);
    }
    const results = await this.createIngestRequest({
      method: 'GET',
      path: `/${getJobIdOrError(this.jobInfo)}/unprocessedrecords`,
      responseType: 'text/csv'
    });
    _classPrivateFieldSet(this, _bulkJobUnprocessedRecords, results !== null && results !== void 0 ? results : []);
    return _classPrivateFieldGet(this, _bulkJobUnprocessedRecords);
  }
  async delete() {
    return this.createIngestRequest({
      method: 'DELETE',
      path: `/${getJobIdOrError(this.jobInfo)}`
    });
  }
  createIngestRequest(request) {
    const {
      path,
      responseType
    } = request;
    const baseUrl = [_classPrivateFieldGet(this, _connection3).instanceUrl, 'services/data', `v${_classPrivateFieldGet(this, _connection3).version}`, 'jobs/ingest'].join('/');
    return new BulkApiV2(_classPrivateFieldGet(this, _connection3), {
      responseType
    }).request(_objectSpread(_objectSpread({}, request), {}, {
      url: baseUrl + path
    }));
  }
}
var _job = new _WeakMap();
var _uploadStream = new _WeakMap();
var _downloadStream = new _WeakMap();
var _dataStream = new _WeakMap();
var _result = new _WeakMap();
class JobDataV2 extends Writable {
  /**
   *
   */
  constructor(options) {
    super({
      objectMode: true
    });
    _job.set(this, {
      writable: true,
      value: void 0
    });
    _uploadStream.set(this, {
      writable: true,
      value: void 0
    });
    _downloadStream.set(this, {
      writable: true,
      value: void 0
    });
    _dataStream.set(this, {
      writable: true,
      value: void 0
    });
    _result.set(this, {
      writable: true,
      value: void 0
    });
    const createRequest = options.createRequest;
    _classPrivateFieldSet(this, _job, options.job);
    _classPrivateFieldSet(this, _uploadStream, new Serializable());
    _classPrivateFieldSet(this, _downloadStream, new Parsable());
    const converterOptions = {
      nullValue: '#N/A'
    };
    const uploadDataStream = _classPrivateFieldGet(this, _uploadStream).stream('csv', converterOptions);
    const downloadDataStream = _classPrivateFieldGet(this, _downloadStream).stream('csv', converterOptions);
    _classPrivateFieldSet(this, _dataStream, concatStreamsAsDuplex(uploadDataStream, downloadDataStream));
    this.on('finish', () => _classPrivateFieldGet(this, _uploadStream).end());
    uploadDataStream.once('readable', () => {
      try {
        var _classPrivateFieldGet2;
        // pipe upload data to batch API request stream
        const req = createRequest({
          method: 'PUT',
          path: `/${(_classPrivateFieldGet2 = _classPrivateFieldGet(this, _job).jobInfo) === null || _classPrivateFieldGet2 === void 0 ? void 0 : _classPrivateFieldGet2.id}/batches`,
          headers: {
            'Content-Type': 'text/csv'
          },
          responseType: 'application/json'
        });
        (async () => {
          try {
            const res = await req;
            this.emit('response', res);
          } catch (err) {
            this.emit('error', err);
          }
        })();
        uploadDataStream.pipe(req.stream());
      } catch (err) {
        this.emit('error', err);
      }
    });
  }
  _write(record_, enc, cb) {
    const {
        Id,
        type,
        attributes
      } = record_,
      rrec = _objectWithoutProperties(record_, ["Id", "type", "attributes"]);
    let record;
    switch (_classPrivateFieldGet(this, _job).jobInfo.operation) {
      case 'insert':
        record = rrec;
        break;
      case 'delete':
      case 'hardDelete':
        record = {
          Id
        };
        break;
      default:
        record = _objectSpread({
          Id
        }, rrec);
    }
    _classPrivateFieldGet(this, _uploadStream).write(record, enc, cb);
  }

  /**
   * Returns duplex stream which accepts CSV data input and batch result output
   */
  stream() {
    return _classPrivateFieldGet(this, _dataStream);
  }

  /**
   * Execute batch operation
   */
  execute(input) {
    if (_classPrivateFieldGet(this, _result)) {
      throw new Error('Data can only be uploaded to a job once.');
    }
    _classPrivateFieldSet(this, _result, new _Promise((resolve, reject) => {
      this.once('response', () => resolve());
      this.once('error', reject);
    }));
    if (isObject(input) && 'pipe' in input && isFunction(input.pipe)) {
      // if input has stream.Readable interface
      input.pipe(_classPrivateFieldGet(this, _dataStream));
    } else {
      if (_Array$isArray(input)) {
        for (const record of input) {
          for (const key of _Object$keys(record)) {
            if (typeof record[key] === 'boolean') {
              record[key] = String(record[key]);
            }
          }
          this.write(record);
        }
        this.end();
      } else if (typeof input === 'string') {
        _classPrivateFieldGet(this, _dataStream).write(input, 'utf8');
        _classPrivateFieldGet(this, _dataStream).end();
      }
    }
    return this;
  }

  /**
   * Promise/A+ interface
   * Delegate to promise, return promise instance for batch result
   */
  then(onResolved, onReject) {
    if (_classPrivateFieldGet(this, _result) === undefined) {
      this.execute();
    }
    return _classPrivateFieldGet(this, _result).then(onResolved, onReject);
  }
}
function getJobIdOrError(jobInfo) {
  const jobId = jobInfo === null || jobInfo === void 0 ? void 0 : jobInfo.id;
  if (jobId === undefined) {
    throw new Error('No job id, maybe you need to call `job.open()` first.');
  }
  return jobId;
}
function delay(ms) {
  return new _Promise(resolve => _setTimeout(resolve, ms));
}

/*--------------------------------------------*/
/*
 * Register hook in connection instantiation for dynamically adding this API module features
 */
registerModule('bulk', conn => new Bulk(conn));
registerModule('bulk2', conn => new BulkV2(conn));
export default Bulk;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJXcml0YWJsZSIsImpvaW5TdHJlYW1zIiwiU2VyaWFsaXphYmxlIiwiUGFyc2FibGUiLCJIdHRwQXBpIiwicmVnaXN0ZXJNb2R1bGUiLCJjb25jYXRTdHJlYW1zQXNEdXBsZXgiLCJpc0Z1bmN0aW9uIiwiaXNPYmplY3QiLCJKb2IiLCJjb25zdHJ1Y3RvciIsImJ1bGsiLCJ0eXBlIiwib3BlcmF0aW9uIiwib3B0aW9ucyIsImpvYklkIiwiX2RlZmluZVByb3BlcnR5IiwiX2J1bGsiLCJpZCIsInN0YXRlIiwiX2JhdGNoZXMiLCJvbiIsImVycm9yIiwiX2Vycm9yIiwiaW5mbyIsIl9qb2JJbmZvIiwiY2hlY2siLCJvcGVuIiwiRXJyb3IiLCJfY29udGV4dCIsInRvTG93ZXJDYXNlIiwiYm9keSIsIl90cmltSW5zdGFuY2VQcm9wZXJ0eSIsImV4dElkRmllbGQiLCJjb25jdXJyZW5jeU1vZGUiLCJhc3NpZ25tZW50UnVsZUlkIiwiY2FsbCIsInJlcyIsIl9yZXF1ZXN0IiwibWV0aG9kIiwicGF0aCIsImhlYWRlcnMiLCJyZXNwb25zZVR5cGUiLCJlbWl0Iiwiam9iSW5mbyIsImVyciIsImNyZWF0ZUJhdGNoIiwiYmF0Y2giLCJCYXRjaCIsImJhdGNoSWQiLCJsb2dnZXIiLCJfbG9nZ2VyIiwicmVhZHkiLCJkZWJ1ZyIsIm9iamVjdCIsIl9Qcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJsaXN0IiwiYmF0Y2hJbmZvTGlzdCIsImJhdGNoSW5mbyIsIl9BcnJheSRpc0FycmF5IiwiY2xvc2UiLCJfY2hhbmdlU3RhdGUiLCJhYm9ydCIsIl9jb250ZXh0MiIsIlBvbGxpbmdUaW1lb3V0RXJyb3IiLCJtZXNzYWdlIiwibmFtZSIsIkpvYlBvbGxpbmdUaW1lb3V0RXJyb3IiLCJqb2IiLCJvYmplY3RNb2RlIiwiZXhlY3V0ZSIsImNvbnZlcnRlck9wdGlvbnMiLCJudWxsVmFsdWUiLCJ1cGxvYWRTdHJlYW0iLCJfdXBsb2FkU3RyZWFtIiwidXBsb2FkRGF0YVN0cmVhbSIsInN0cmVhbSIsImRvd25sb2FkU3RyZWFtIiwiX2Rvd25sb2FkU3RyZWFtIiwiZG93bmxvYWREYXRhU3RyZWFtIiwiZW5kIiwib25jZSIsInBpcGUiLCJfY3JlYXRlUmVxdWVzdFN0cmVhbSIsIl9kYXRhU3RyZWFtIiwicmVxIiwiX3dyaXRlIiwicmVjb3JkXyIsImVuYyIsImNiIiwiSWQiLCJhdHRyaWJ1dGVzIiwicnJlYyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsInJlY29yZCIsIl9vYmplY3RTcHJlYWQiLCJ3cml0ZSIsImlucHV0IiwiX3Jlc3VsdCIsInJlamVjdCIsImtleSIsIl9PYmplY3Qka2V5cyIsIlN0cmluZyIsIm9uUmVzb2x2ZWQiLCJvblJlamVjdCIsInBvbGwiLCJpbnRlcnZhbCIsInRpbWVvdXQiLCJzdGFydFRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsIm5vdyIsIl9wYXJzZUludCIsIm51bWJlclJlY29yZHNQcm9jZXNzZWQiLCJyZXRyaWV2ZSIsInN0YXRlTWVzc2FnZSIsIl9zZXRUaW1lb3V0IiwicmVzcCIsInJlc3VsdHMiLCJfY29udGV4dDMiLCJyZXN1bHRJZCIsInJlc3VsdCIsIl9tYXBJbnN0YW5jZVByb3BlcnR5IiwicmV0Iiwic3VjY2VzcyIsIlN1Y2Nlc3MiLCJlcnJvcnMiLCJyZXN1bHRTdHJlYW0iLCJyZXN1bHREYXRhU3RyZWFtIiwiQnVsa0FwaSIsImJlZm9yZVNlbmQiLCJyZXF1ZXN0IiwiX3RoaXMkX2Nvbm4kYWNjZXNzVG9rIiwiX2Nvbm4iLCJhY2Nlc3NUb2tlbiIsImlzU2Vzc2lvbkV4cGlyZWQiLCJyZXNwb25zZSIsInN0YXR1c0NvZGUiLCJ0ZXN0IiwiaGFzRXJyb3JJblJlc3BvbnNlQm9keSIsInBhcnNlRXJyb3IiLCJlcnJvckNvZGUiLCJleGNlcHRpb25Db2RlIiwiZXhjZXB0aW9uTWVzc2FnZSIsIkJ1bGtBcGlWMiIsIkJ1bGsiLCJjb25uIiwicmVxdWVzdF8iLCJycmVxIiwiYmFzZVVybCIsImluc3RhbmNlVXJsIiwidmVyc2lvbiIsImpvaW4iLCJ1cmwiLCJsb2FkIiwib3B0aW9uc09ySW5wdXQiLCJjcmVhdGVKb2IiLCJjbGVhbnVwIiwiY2xlYW51cE9uRXJyb3IiLCJwb2xsSW50ZXJ2YWwiLCJwb2xsVGltZW91dCIsInF1ZXJ5Iiwic29xbCIsIm0iLCJyZXBsYWNlIiwibWF0Y2giLCJyZWNvcmRTdHJlYW0iLCJkYXRhU3RyZWFtIiwic3RyZWFtcyIsIl9jb25uZWN0aW9uIiwiX1dlYWtNYXAiLCJCdWxrVjIiLCJjb25uZWN0aW9uIiwic2V0Iiwid3JpdGFibGUiLCJ2YWx1ZSIsIl9jbGFzc1ByaXZhdGVGaWVsZFNldCIsIkluZ2VzdEpvYlYyIiwiX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicG9sbGluZ09wdGlvbnMiLCJsb2FkQW5kV2FpdEZvclJlc3VsdHMiLCJ1cGxvYWREYXRhIiwiZ2V0QWxsUmVzdWx0cyIsImRlbGV0ZSIsImNhdGNoIiwiaWdub3JlZCIsInF1ZXJ5Sm9iIiwiUXVlcnlKb2JWMiIsImdldFJlc3VsdHMiLCJfY29ubmVjdGlvbjIiLCJfb3BlcmF0aW9uIiwiX3F1ZXJ5IiwiX3BvbGxpbmdPcHRpb25zIiwiX3F1ZXJ5UmVzdWx0cyIsImNyZWF0ZVF1ZXJ5UmVxdWVzdCIsIl9KU09OJHN0cmluZ2lmeSIsIl90aGlzJGpvYkluZm8iLCJnZXRKb2JJZE9yRXJyb3IiLCJfRGF0ZSRub3ciLCJkZWxheSIsInRpbWVvdXRFcnJvciIsImh0dHBBcGkiLCJsb2NhdG9yIiwiZ2V0UmVzdWx0c1VybCIsImZpbmlzaGVkIiwiX2NvbnRleHQ0IiwibmV4dFJlc3VsdHMiLCJBY2NlcHQiLCJfY29uY2F0SW5zdGFuY2VQcm9wZXJ0eSIsIl9jb25uZWN0aW9uMyIsIl9wb2xsaW5nT3B0aW9uczIiLCJfam9iRGF0YSIsIl9idWxrSm9iU3VjY2Vzc2Z1bFJlc3VsdHMiLCJfYnVsa0pvYkZhaWxlZFJlc3VsdHMiLCJfYnVsa0pvYlVucHJvY2Vzc2VkUmVjb3JkcyIsIl9lcnJvcjIiLCJKb2JEYXRhVjIiLCJjcmVhdGVSZXF1ZXN0IiwiY3JlYXRlSW5nZXN0UmVxdWVzdCIsIl90aGlzJGpvYkluZm8yIiwiX3RoaXMkam9iSW5mbzMiLCJfdGhpcyRqb2JJbmZvNCIsIl90aGlzJGpvYkluZm81IiwiX3RoaXMkam9iSW5mbzYiLCJleHRlcm5hbElkRmllbGROYW1lIiwibGluZUVuZGluZyIsInN1Y2Nlc3NmdWxSZXN1bHRzIiwiZmFpbGVkUmVzdWx0cyIsInVucHJvY2Vzc2VkUmVjb3JkcyIsImFsbCIsImdldFN1Y2Nlc3NmdWxSZXN1bHRzIiwiZ2V0RmFpbGVkUmVzdWx0cyIsImdldFVucHJvY2Vzc2VkUmVjb3JkcyIsIl9qb2IiLCJfY2xhc3NQcml2YXRlRmllbGRHZXQyIiwidW5kZWZpbmVkIiwibXMiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvYXBpL2J1bGsudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBNYW5hZ2VzIFNhbGVzZm9yY2UgQnVsayBBUEkgcmVsYXRlZCBvcGVyYXRpb25zXG4gKiBAYXV0aG9yIFNoaW5pY2hpIFRvbWl0YSA8c2hpbmljaGkudG9taXRhQGdtYWlsLmNvbT5cbiAqL1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IER1cGxleCwgUmVhZGFibGUsIFdyaXRhYmxlIH0gZnJvbSAnc3RyZWFtJztcbmltcG9ydCBqb2luU3RyZWFtcyBmcm9tICdtdWx0aXN0cmVhbSc7XG5pbXBvcnQgQ29ubmVjdGlvbiBmcm9tICcuLi9jb25uZWN0aW9uJztcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSwgUGFyc2FibGUgfSBmcm9tICcuLi9yZWNvcmQtc3RyZWFtJztcbmltcG9ydCBIdHRwQXBpIGZyb20gJy4uL2h0dHAtYXBpJztcbmltcG9ydCB7IFN0cmVhbVByb21pc2UgfSBmcm9tICcuLi91dGlsL3Byb21pc2UnO1xuaW1wb3J0IHsgcmVnaXN0ZXJNb2R1bGUgfSBmcm9tICcuLi9qc2ZvcmNlJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uL3V0aWwvbG9nZ2VyJztcbmltcG9ydCB7IGNvbmNhdFN0cmVhbXNBc0R1cGxleCB9IGZyb20gJy4uL3V0aWwvc3RyZWFtJztcbmltcG9ydCB7XG4gIEh0dHBNZXRob2RzLFxuICBIdHRwUmVxdWVzdCxcbiAgSHR0cFJlc3BvbnNlLFxuICBSZWNvcmQsXG4gIFNjaGVtYSxcbiAgT3B0aW9uYWwsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9mdW5jdGlvbic7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5leHBvcnQgdHlwZSBCdWxrT3BlcmF0aW9uID1cbiAgfCAnaW5zZXJ0J1xuICB8ICd1cGRhdGUnXG4gIHwgJ3Vwc2VydCdcbiAgfCAnZGVsZXRlJ1xuICB8ICdoYXJkRGVsZXRlJ1xuICB8ICdxdWVyeSdcbiAgfCAncXVlcnlBbGwnO1xuXG5leHBvcnQgdHlwZSBJbmdlc3RPcGVyYXRpb24gPSBFeGNsdWRlPEJ1bGtPcGVyYXRpb24sICdxdWVyeScgfCAncXVlcnlBbGwnPjtcblxuZXhwb3J0IHR5cGUgUXVlcnlPcGVyYXRpb24gPSBFeHRyYWN0PEJ1bGtPcGVyYXRpb24sICdxdWVyeScgfCAncXVlcnlBbGwnPjtcblxuZXhwb3J0IHR5cGUgQnVsa09wdGlvbnMgPSB7XG4gIGV4dElkRmllbGQ/OiBzdHJpbmc7XG4gIGNvbmN1cnJlbmN5TW9kZT86ICdTZXJpYWwnIHwgJ1BhcmFsbGVsJztcbiAgYXNzaWdubWVudFJ1bGVJZD86IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEpvYlN0YXRlID0gJ09wZW4nIHwgJ0Nsb3NlZCcgfCAnQWJvcnRlZCcgfCAnRmFpbGVkJyB8ICdVbmtub3duJztcblxuZXhwb3J0IHR5cGUgSm9iU3RhdGVWMiA9XG4gIHwgRXhjbHVkZTxKb2JTdGF0ZSwgJ0Nsb3NlZCcgfCAnVW5rbm93bic+XG4gIHwgJ1VwbG9hZENvbXBsZXRlJ1xuICB8ICdJblByb2dyZXNzJ1xuICB8ICdKb2JDb21wbGV0ZSc7XG5cbmV4cG9ydCB0eXBlIEpvYkluZm8gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG9iamVjdDogc3RyaW5nO1xuICBvcGVyYXRpb246IEJ1bGtPcGVyYXRpb247XG4gIHN0YXRlOiBKb2JTdGF0ZTtcbn07XG5cbmV4cG9ydCB0eXBlIEpvYkluZm9WMiA9IHtcbiAgYXBpVmVyc2lvbjogc3RyaW5nO1xuICBhc3NpZ25tZW50UnVsZUlkPzogc3RyaW5nO1xuICBjb2x1bW5EZWxpbWl0ZXI6XG4gICAgfCAnQkFDS1FVT1RFJ1xuICAgIHwgJ0NBUkVUJ1xuICAgIHwgJ0NPTU1BJ1xuICAgIHwgJ1BJUEUnXG4gICAgfCAnU0VNSUNPTE9OJ1xuICAgIHwgJ1RBQic7XG4gIGNvbmN1cnJlbmN5TW9kZTogJ1BhcmFsbGVsJztcbiAgY29udGVudFR5cGU6ICdDU1YnO1xuICBjb250ZW50VXJsOiBzdHJpbmc7XG4gIGNyZWF0ZWRCeUlkOiBzdHJpbmc7XG4gIGNyZWF0ZWREYXRlOiBzdHJpbmc7XG4gIGV4dGVybmFsSWRGaWVsZE5hbWU/OiBzdHJpbmc7XG4gIGlkOiBzdHJpbmc7XG4gIGpvYlR5cGU6ICdCaWdPYmplY3RJbmdlc3QnIHwgJ0NsYXNzaWMnIHwgJ1YySW5nZXN0JztcbiAgbGluZUVuZGluZzogJ0xGJyB8ICdDUkxGJztcbiAgb2JqZWN0OiBzdHJpbmc7XG4gIG9wZXJhdGlvbjogQnVsa09wZXJhdGlvbjtcbiAgc3RhdGU6IEpvYlN0YXRlVjI7XG4gIHN5c3RlbU1vZHN0YW1wOiBzdHJpbmc7XG4gIG51bWJlclJlY29yZHNQcm9jZXNzZWQ/OiBudW1iZXI7XG4gIG51bWJlclJlY29yZHNGYWlsZWQ/OiBudW1iZXI7XG59O1xuXG50eXBlIEpvYkluZm9SZXNwb25zZSA9IHtcbiAgam9iSW5mbzogSm9iSW5mbztcbn07XG5cbmV4cG9ydCB0eXBlIEJhdGNoU3RhdGUgPVxuICB8ICdRdWV1ZWQnXG4gIHwgJ0luUHJvZ3Jlc3MnXG4gIHwgJ0NvbXBsZXRlZCdcbiAgfCAnRmFpbGVkJ1xuICB8ICdOb3RQcm9jZXNzZWQnO1xuXG5leHBvcnQgdHlwZSBCYXRjaEluZm8gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIGpvYklkOiBzdHJpbmc7XG4gIHN0YXRlOiBCYXRjaFN0YXRlO1xuICBzdGF0ZU1lc3NhZ2U6IHN0cmluZztcbiAgbnVtYmVyUmVjb3Jkc1Byb2Nlc3NlZDogc3RyaW5nO1xuICBudW1iZXJSZWNvcmRzRmFpbGVkOiBzdHJpbmc7XG4gIHRvdGFsUHJvY2Vzc2luZ1RpbWU6IHN0cmluZztcbn07XG5cbnR5cGUgQmF0Y2hJbmZvUmVzcG9uc2UgPSB7XG4gIGJhdGNoSW5mbzogQmF0Y2hJbmZvO1xufTtcblxudHlwZSBCYXRjaEluZm9MaXN0UmVzcG9uc2UgPSB7XG4gIGJhdGNoSW5mb0xpc3Q6IHtcbiAgICBiYXRjaEluZm86IEJhdGNoSW5mbyB8IEJhdGNoSW5mb1tdO1xuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgQnVsa1F1ZXJ5QmF0Y2hSZXN1bHQgPSBBcnJheTx7XG4gIGlkOiBzdHJpbmc7XG4gIGJhdGNoSWQ6IHN0cmluZztcbiAgam9iSWQ6IHN0cmluZztcbn0+O1xuXG5leHBvcnQgdHlwZSBCdWxrSW5nZXN0QmF0Y2hSZXN1bHQgPSBBcnJheTx7XG4gIGlkOiBzdHJpbmcgfCBudWxsO1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBlcnJvcnM6IHN0cmluZ1tdO1xufT47XG5cbmV4cG9ydCB0eXBlIEJhdGNoUmVzdWx0PE9wciBleHRlbmRzIEJ1bGtPcGVyYXRpb24+ID0gT3ByIGV4dGVuZHNcbiAgfCAncXVlcnknXG4gIHwgJ3F1ZXJ5QWxsJ1xuICA/IEJ1bGtRdWVyeUJhdGNoUmVzdWx0XG4gIDogQnVsa0luZ2VzdEJhdGNoUmVzdWx0O1xuXG50eXBlIEJ1bGtJbmdlc3RSZXN1bHRSZXNwb25zZSA9IEFycmF5PHtcbiAgSWQ6IHN0cmluZztcbiAgU3VjY2Vzczogc3RyaW5nO1xuICBFcnJvcjogc3RyaW5nO1xufT47XG5cbnR5cGUgQnVsa1F1ZXJ5UmVzdWx0UmVzcG9uc2UgPSB7XG4gICdyZXN1bHQtbGlzdCc6IHtcbiAgICByZXN1bHQ6IHN0cmluZyB8IHN0cmluZ1tdO1xuICB9O1xufTtcblxudHlwZSBCdWxrUmVxdWVzdCA9IHtcbiAgbWV0aG9kOiBIdHRwTWV0aG9kcztcbiAgcGF0aDogc3RyaW5nO1xuICBib2R5Pzogc3RyaW5nO1xuICBoZWFkZXJzPzogeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nIH07XG4gIHJlc3BvbnNlVHlwZT86IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEluZ2VzdEpvYlYyU3VjY2Vzc2Z1bFJlc3VsdHM8UyBleHRlbmRzIFNjaGVtYT4gPSBBcnJheTxcbiAge1xuICAgIHNmX19DcmVhdGVkOiAndHJ1ZScgfCAnZmFsc2UnO1xuICAgIHNmX19JZDogc3RyaW5nO1xuICB9ICYgU1xuPjtcblxuZXhwb3J0IHR5cGUgSW5nZXN0Sm9iVjJGYWlsZWRSZXN1bHRzPFMgZXh0ZW5kcyBTY2hlbWE+ID0gQXJyYXk8XG4gIHtcbiAgICBzZl9fRXJyb3I6IHN0cmluZztcbiAgICBzZl9fSWQ6IHN0cmluZztcbiAgfSAmIFNcbj47XG5cbmV4cG9ydCB0eXBlIEluZ2VzdEpvYlYyVW5wcm9jZXNzZWRSZWNvcmRzPFMgZXh0ZW5kcyBTY2hlbWE+ID0gQXJyYXk8Uz47XG5cbmV4cG9ydCB0eXBlIEluZ2VzdEpvYlYyUmVzdWx0czxTIGV4dGVuZHMgU2NoZW1hPiA9IHtcbiAgc3VjY2Vzc2Z1bFJlc3VsdHM6IEluZ2VzdEpvYlYyU3VjY2Vzc2Z1bFJlc3VsdHM8Uz47XG4gIGZhaWxlZFJlc3VsdHM6IEluZ2VzdEpvYlYyRmFpbGVkUmVzdWx0czxTPjtcbiAgdW5wcm9jZXNzZWRSZWNvcmRzOiBJbmdlc3RKb2JWMlVucHJvY2Vzc2VkUmVjb3JkczxTPjtcbn07XG5cbnR5cGUgTmV3SW5nZXN0Sm9iT3B0aW9ucyA9IFJlcXVpcmVkPFBpY2s8Sm9iSW5mb1YyLCAnb2JqZWN0JyB8ICdvcGVyYXRpb24nPj4gJlxuICBQYXJ0aWFsPFxuICAgIFBpY2s8Sm9iSW5mb1YyLCAnYXNzaWdubWVudFJ1bGVJZCcgfCAnZXh0ZXJuYWxJZEZpZWxkTmFtZScgfCAnbGluZUVuZGluZyc+XG4gID47XG5cbnR5cGUgRXhpc3RpbmdJbmdlc3RKb2JPcHRpb25zID0gUGljazxKb2JJbmZvVjIsICdpZCc+O1xuXG50eXBlIENyZWF0ZUluZ2VzdEpvYlYyUmVxdWVzdCA9IDxUPihyZXF1ZXN0OiBCdWxrUmVxdWVzdCkgPT4gU3RyZWFtUHJvbWlzZTxUPjtcblxudHlwZSBDcmVhdGVJbmdlc3RKb2JWMk9wdGlvbnM8UyBleHRlbmRzIFNjaGVtYT4gPSB7XG4gIGNvbm5lY3Rpb246IENvbm5lY3Rpb248Uz47XG4gIGpvYkluZm86IE5ld0luZ2VzdEpvYk9wdGlvbnMgfCBFeGlzdGluZ0luZ2VzdEpvYk9wdGlvbnM7XG4gIHBvbGxpbmdPcHRpb25zOiBCdWxrVjJQb2xsaW5nT3B0aW9ucztcbn07XG5cbnR5cGUgQ3JlYXRlSm9iRGF0YVYyT3B0aW9uczxTIGV4dGVuZHMgU2NoZW1hLCBPcHIgZXh0ZW5kcyBJbmdlc3RPcGVyYXRpb24+ID0ge1xuICBqb2I6IEluZ2VzdEpvYlYyPFMsIE9wcj47XG4gIGNyZWF0ZVJlcXVlc3Q6IENyZWF0ZUluZ2VzdEpvYlYyUmVxdWVzdDtcbn07XG5cbnR5cGUgQ3JlYXRlUXVlcnlKb2JWMk9wdGlvbnM8UyBleHRlbmRzIFNjaGVtYT4gPSB7XG4gIGNvbm5lY3Rpb246IENvbm5lY3Rpb248Uz47XG4gIG9wZXJhdGlvbjogUXVlcnlPcGVyYXRpb247XG4gIHF1ZXJ5OiBzdHJpbmc7XG4gIHBvbGxpbmdPcHRpb25zOiBCdWxrVjJQb2xsaW5nT3B0aW9ucztcbn07XG5cbnR5cGUgQnVsa1YyUG9sbGluZ09wdGlvbnMgPSB7XG4gIHBvbGxJbnRlcnZhbDogbnVtYmVyO1xuICBwb2xsVGltZW91dDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBDbGFzcyBmb3IgQnVsayBBUEkgSm9iXG4gKi9cbmV4cG9ydCBjbGFzcyBKb2I8XG4gIFMgZXh0ZW5kcyBTY2hlbWEsXG4gIE9wciBleHRlbmRzIEJ1bGtPcGVyYXRpb25cbj4gZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICB0eXBlOiBzdHJpbmcgfCBudWxsO1xuICBvcGVyYXRpb246IE9wciB8IG51bGw7XG4gIG9wdGlvbnM6IEJ1bGtPcHRpb25zO1xuICBpZDogc3RyaW5nIHwgbnVsbDtcbiAgc3RhdGU6IEpvYlN0YXRlO1xuICBfYnVsazogQnVsazxTPjtcbiAgX2JhdGNoZXM6IHsgW2lkOiBzdHJpbmddOiBCYXRjaDxTLCBPcHI+IH07XG4gIF9qb2JJbmZvOiBQcm9taXNlPEpvYkluZm8+IHwgdW5kZWZpbmVkO1xuICBfZXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgYnVsazogQnVsazxTPixcbiAgICB0eXBlOiBzdHJpbmcgfCBudWxsLFxuICAgIG9wZXJhdGlvbjogT3ByIHwgbnVsbCxcbiAgICBvcHRpb25zOiBCdWxrT3B0aW9ucyB8IG51bGwsXG4gICAgam9iSWQ/OiBzdHJpbmcsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fYnVsayA9IGJ1bGs7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLm9wZXJhdGlvbiA9IG9wZXJhdGlvbjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuaWQgPSBqb2JJZCA/PyBudWxsO1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLmlkID8gJ09wZW4nIDogJ1Vua25vd24nO1xuICAgIHRoaXMuX2JhdGNoZXMgPSB7fTtcbiAgICAvLyBkZWZhdWx0IGVycm9yIGhhbmRsZXIgdG8ga2VlcCB0aGUgbGF0ZXN0IGVycm9yXG4gICAgdGhpcy5vbignZXJyb3InLCAoZXJyb3IpID0+ICh0aGlzLl9lcnJvciA9IGVycm9yKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGxhdGVzdCBqb2JJbmZvIGZyb20gY2FjaGVcbiAgICovXG4gIGluZm8oKSB7XG4gICAgLy8gaWYgY2FjaGUgaXMgbm90IGF2YWlsYWJsZSwgY2hlY2sgdGhlIGxhdGVzdFxuICAgIGlmICghdGhpcy5fam9iSW5mbykge1xuICAgICAgdGhpcy5fam9iSW5mbyA9IHRoaXMuY2hlY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2pvYkluZm87XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBuZXcgam9iIGFuZCBnZXQgam9iaW5mb1xuICAgKi9cbiAgb3BlbigpOiBQcm9taXNlPEpvYkluZm8+IHtcbiAgICBjb25zdCBidWxrID0gdGhpcy5fYnVsaztcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgLy8gaWYgc29iamVjdCB0eXBlIC8gb3BlcmF0aW9uIGlzIG5vdCBwcm92aWRlZFxuICAgIGlmICghdGhpcy50eXBlIHx8ICF0aGlzLm9wZXJhdGlvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0eXBlIC8gb3BlcmF0aW9uIGlzIHJlcXVpcmVkIHRvIG9wZW4gYSBuZXcgam9iJyk7XG4gICAgfVxuXG4gICAgLy8gaWYgbm90IHJlcXVlc3RlZCBvcGVuaW5nIGpvYlxuICAgIGlmICghdGhpcy5fam9iSW5mbykge1xuICAgICAgbGV0IG9wZXJhdGlvbiA9IHRoaXMub3BlcmF0aW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAob3BlcmF0aW9uID09PSAnaGFyZGRlbGV0ZScpIHtcbiAgICAgICAgb3BlcmF0aW9uID0gJ2hhcmREZWxldGUnO1xuICAgICAgfVxuICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ3F1ZXJ5YWxsJykge1xuICAgICAgICBvcGVyYXRpb24gPSAncXVlcnlBbGwnO1xuICAgICAgfVxuICAgICAgY29uc3QgYm9keSA9IGBcbjw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuPGpvYkluZm8gIHhtbG5zPVwiaHR0cDovL3d3dy5mb3JjZS5jb20vMjAwOS8wNi9hc3luY2FwaS9kYXRhbG9hZFwiPlxuICA8b3BlcmF0aW9uPiR7b3BlcmF0aW9ufTwvb3BlcmF0aW9uPlxuICA8b2JqZWN0PiR7dGhpcy50eXBlfTwvb2JqZWN0PlxuICAke1xuICAgIG9wdGlvbnMuZXh0SWRGaWVsZFxuICAgICAgPyBgPGV4dGVybmFsSWRGaWVsZE5hbWU+JHtvcHRpb25zLmV4dElkRmllbGR9PC9leHRlcm5hbElkRmllbGROYW1lPmBcbiAgICAgIDogJydcbiAgfVxuICAke1xuICAgIG9wdGlvbnMuY29uY3VycmVuY3lNb2RlXG4gICAgICA/IGA8Y29uY3VycmVuY3lNb2RlPiR7b3B0aW9ucy5jb25jdXJyZW5jeU1vZGV9PC9jb25jdXJyZW5jeU1vZGU+YFxuICAgICAgOiAnJ1xuICB9XG4gICR7XG4gICAgb3B0aW9ucy5hc3NpZ25tZW50UnVsZUlkXG4gICAgICA/IGA8YXNzaWdubWVudFJ1bGVJZD4ke29wdGlvbnMuYXNzaWdubWVudFJ1bGVJZH08L2Fzc2lnbm1lbnRSdWxlSWQ+YFxuICAgICAgOiAnJ1xuICB9XG4gIDxjb250ZW50VHlwZT5DU1Y8L2NvbnRlbnRUeXBlPlxuPC9qb2JJbmZvPlxuICAgICAgYC50cmltKCk7XG5cbiAgICAgIHRoaXMuX2pvYkluZm8gPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGJ1bGsuX3JlcXVlc3Q8Sm9iSW5mb1Jlc3BvbnNlPih7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIHBhdGg6ICcvam9iJyxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veG1sOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNwb25zZVR5cGU6ICdhcHBsaWNhdGlvbi94bWwnLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuZW1pdCgnb3BlbicsIHJlcy5qb2JJbmZvKTtcbiAgICAgICAgICB0aGlzLmlkID0gcmVzLmpvYkluZm8uaWQ7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IHJlcy5qb2JJbmZvLnN0YXRlO1xuICAgICAgICAgIHJldHVybiByZXMuam9iSW5mbztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fam9iSW5mbztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYmF0Y2ggaW5zdGFuY2UgaW4gdGhlIGpvYlxuICAgKi9cbiAgY3JlYXRlQmF0Y2goKTogQmF0Y2g8UywgT3ByPiB7XG4gICAgY29uc3QgYmF0Y2ggPSBuZXcgQmF0Y2godGhpcyk7XG4gICAgYmF0Y2gub24oJ3F1ZXVlJywgKCkgPT4ge1xuICAgICAgdGhpcy5fYmF0Y2hlc1tiYXRjaC5pZCFdID0gYmF0Y2g7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJhdGNoO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIGJhdGNoIGluc3RhbmNlIHNwZWNpZmllZCBieSBnaXZlbiBiYXRjaCBJRFxuICAgKi9cbiAgYmF0Y2goYmF0Y2hJZDogc3RyaW5nKTogQmF0Y2g8UywgT3ByPiB7XG4gICAgbGV0IGJhdGNoID0gdGhpcy5fYmF0Y2hlc1tiYXRjaElkXTtcbiAgICBpZiAoIWJhdGNoKSB7XG4gICAgICBiYXRjaCA9IG5ldyBCYXRjaCh0aGlzLCBiYXRjaElkKTtcbiAgICAgIHRoaXMuX2JhdGNoZXNbYmF0Y2hJZF0gPSBiYXRjaDtcbiAgICB9XG4gICAgcmV0dXJuIGJhdGNoO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHRoZSBsYXRlc3Qgam9iIHN0YXR1cyBmcm9tIHNlcnZlclxuICAgKi9cbiAgY2hlY2soKSB7XG4gICAgY29uc3QgYnVsayA9IHRoaXMuX2J1bGs7XG4gICAgY29uc3QgbG9nZ2VyID0gYnVsay5fbG9nZ2VyO1xuXG4gICAgdGhpcy5fam9iSW5mbyA9IChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBqb2JJZCA9IGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGJ1bGsuX3JlcXVlc3Q8Sm9iSW5mb1Jlc3BvbnNlPih7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6ICcvam9iLycgKyBqb2JJZCxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXBwbGljYXRpb24veG1sJyxcbiAgICAgIH0pO1xuICAgICAgbG9nZ2VyLmRlYnVnKHJlcy5qb2JJbmZvKTtcbiAgICAgIHRoaXMuaWQgPSByZXMuam9iSW5mby5pZDtcbiAgICAgIHRoaXMudHlwZSA9IHJlcy5qb2JJbmZvLm9iamVjdDtcbiAgICAgIHRoaXMub3BlcmF0aW9uID0gcmVzLmpvYkluZm8ub3BlcmF0aW9uIGFzIE9wcjtcbiAgICAgIHRoaXMuc3RhdGUgPSByZXMuam9iSW5mby5zdGF0ZTtcbiAgICAgIHJldHVybiByZXMuam9iSW5mbztcbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2pvYkluZm87XG4gIH1cblxuICAvKipcbiAgICogV2FpdCB0aWxsIHRoZSBqb2IgaXMgYXNzaWduZWQgdG8gc2VydmVyXG4gICAqL1xuICByZWFkeSgpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmlkXG4gICAgICA/IFByb21pc2UucmVzb2x2ZSh0aGlzLmlkKVxuICAgICAgOiB0aGlzLm9wZW4oKS50aGVuKCh7IGlkIH0pID0+IGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0IGFsbCByZWdpc3RlcmVkIGJhdGNoIGluZm8gaW4gam9iXG4gICAqL1xuICBhc3luYyBsaXN0KCkge1xuICAgIGNvbnN0IGJ1bGsgPSB0aGlzLl9idWxrO1xuICAgIGNvbnN0IGxvZ2dlciA9IGJ1bGsuX2xvZ2dlcjtcbiAgICBjb25zdCBqb2JJZCA9IGF3YWl0IHRoaXMucmVhZHkoKTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBidWxrLl9yZXF1ZXN0PEJhdGNoSW5mb0xpc3RSZXNwb25zZT4oe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhdGg6ICcvam9iLycgKyBqb2JJZCArICcvYmF0Y2gnLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnYXBwbGljYXRpb24veG1sJyxcbiAgICB9KTtcbiAgICBsb2dnZXIuZGVidWcocmVzLmJhdGNoSW5mb0xpc3QuYmF0Y2hJbmZvKTtcbiAgICBjb25zdCBiYXRjaEluZm9MaXN0ID0gQXJyYXkuaXNBcnJheShyZXMuYmF0Y2hJbmZvTGlzdC5iYXRjaEluZm8pXG4gICAgICA/IHJlcy5iYXRjaEluZm9MaXN0LmJhdGNoSW5mb1xuICAgICAgOiBbcmVzLmJhdGNoSW5mb0xpc3QuYmF0Y2hJbmZvXTtcbiAgICByZXR1cm4gYmF0Y2hJbmZvTGlzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSBvcGVuZWQgam9iXG4gICAqL1xuICBhc3luYyBjbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpvYkluZm8gPSBhd2FpdCB0aGlzLl9jaGFuZ2VTdGF0ZSgnQ2xvc2VkJyk7XG4gICAgICB0aGlzLmlkID0gbnVsbDtcbiAgICAgIHRoaXMuZW1pdCgnY2xvc2UnLCBqb2JJbmZvKTtcbiAgICAgIHJldHVybiBqb2JJbmZvO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RhdHVzIHRvIGFib3J0XG4gICAqL1xuICBhc3luYyBhYm9ydCgpIHtcbiAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpvYkluZm8gPSBhd2FpdCB0aGlzLl9jaGFuZ2VTdGF0ZSgnQWJvcnRlZCcpO1xuICAgICAgdGhpcy5pZCA9IG51bGw7XG4gICAgICB0aGlzLmVtaXQoJ2Fib3J0Jywgam9iSW5mbyk7XG4gICAgICByZXR1cm4gam9iSW5mbztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXN5bmMgX2NoYW5nZVN0YXRlKHN0YXRlOiBKb2JTdGF0ZSkge1xuICAgIGNvbnN0IGJ1bGsgPSB0aGlzLl9idWxrO1xuICAgIGNvbnN0IGxvZ2dlciA9IGJ1bGsuX2xvZ2dlcjtcblxuICAgIHRoaXMuX2pvYkluZm8gPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgam9iSWQgPSBhd2FpdCB0aGlzLnJlYWR5KCk7XG4gICAgICBjb25zdCBib2R5ID0gYCBcbjw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuICA8am9iSW5mbyB4bWxucz1cImh0dHA6Ly93d3cuZm9yY2UuY29tLzIwMDkvMDYvYXN5bmNhcGkvZGF0YWxvYWRcIj5cbiAgPHN0YXRlPiR7c3RhdGV9PC9zdGF0ZT5cbjwvam9iSW5mbz5cbiAgICAgIGAudHJpbSgpO1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgYnVsay5fcmVxdWVzdDxKb2JJbmZvUmVzcG9uc2U+KHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHBhdGg6ICcvam9iLycgKyBqb2JJZCxcbiAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veG1sOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXBwbGljYXRpb24veG1sJyxcbiAgICAgIH0pO1xuICAgICAgbG9nZ2VyLmRlYnVnKHJlcy5qb2JJbmZvKTtcbiAgICAgIHRoaXMuc3RhdGUgPSByZXMuam9iSW5mby5zdGF0ZTtcbiAgICAgIHJldHVybiByZXMuam9iSW5mbztcbiAgICB9KSgpO1xuICAgIHJldHVybiB0aGlzLl9qb2JJbmZvO1xuICB9XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuY2xhc3MgUG9sbGluZ1RpbWVvdXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgam9iSWQ6IHN0cmluZztcbiAgYmF0Y2hJZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBqb2JJZDogc3RyaW5nLCBiYXRjaElkOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnUG9sbGluZ1RpbWVvdXQnO1xuICAgIHRoaXMuam9iSWQgPSBqb2JJZDtcbiAgICB0aGlzLmJhdGNoSWQgPSBiYXRjaElkO1xuICB9XG59XG5cbmNsYXNzIEpvYlBvbGxpbmdUaW1lb3V0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGpvYklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcsIGpvYklkOiBzdHJpbmcpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnSm9iUG9sbGluZ1RpbWVvdXQnO1xuICAgIHRoaXMuam9iSWQgPSBqb2JJZDtcbiAgfVxufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qKlxuICogQmF0Y2ggKGV4dGVuZHMgV3JpdGFibGUpXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXRjaDxcbiAgUyBleHRlbmRzIFNjaGVtYSxcbiAgT3ByIGV4dGVuZHMgQnVsa09wZXJhdGlvblxuPiBleHRlbmRzIFdyaXRhYmxlIHtcbiAgam9iOiBKb2I8UywgT3ByPjtcbiAgaWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgX2J1bGs6IEJ1bGs8Uz47XG4gIF91cGxvYWRTdHJlYW06IFNlcmlhbGl6YWJsZTtcbiAgX2Rvd25sb2FkU3RyZWFtOiBQYXJzYWJsZTtcbiAgX2RhdGFTdHJlYW06IER1cGxleDtcbiAgX3Jlc3VsdDogUHJvbWlzZTxCYXRjaFJlc3VsdDxPcHI+PiB8IHVuZGVmaW5lZDtcbiAgX2Vycm9yOiBFcnJvciB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKGpvYjogSm9iPFMsIE9wcj4sIGlkPzogc3RyaW5nKSB7XG4gICAgc3VwZXIoeyBvYmplY3RNb2RlOiB0cnVlIH0pO1xuICAgIHRoaXMuam9iID0gam9iO1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLl9idWxrID0gam9iLl9idWxrO1xuXG4gICAgLy8gZGVmYXVsdCBlcnJvciBoYW5kbGVyIHRvIGtlZXAgdGhlIGxhdGVzdCBlcnJvclxuICAgIHRoaXMub24oJ2Vycm9yJywgKGVycm9yKSA9PiAodGhpcy5fZXJyb3IgPSBlcnJvcikpO1xuXG4gICAgLy9cbiAgICAvLyBzZXR1cCBkYXRhIHN0cmVhbXNcbiAgICAvL1xuICAgIGNvbnN0IGNvbnZlcnRlck9wdGlvbnMgPSB7IG51bGxWYWx1ZTogJyNOL0EnIH07XG4gICAgY29uc3QgdXBsb2FkU3RyZWFtID0gKHRoaXMuX3VwbG9hZFN0cmVhbSA9IG5ldyBTZXJpYWxpemFibGUoKSk7XG4gICAgY29uc3QgdXBsb2FkRGF0YVN0cmVhbSA9IHVwbG9hZFN0cmVhbS5zdHJlYW0oJ2NzdicsIGNvbnZlcnRlck9wdGlvbnMpO1xuICAgIGNvbnN0IGRvd25sb2FkU3RyZWFtID0gKHRoaXMuX2Rvd25sb2FkU3RyZWFtID0gbmV3IFBhcnNhYmxlKCkpO1xuICAgIGNvbnN0IGRvd25sb2FkRGF0YVN0cmVhbSA9IGRvd25sb2FkU3RyZWFtLnN0cmVhbSgnY3N2JywgY29udmVydGVyT3B0aW9ucyk7XG5cbiAgICB0aGlzLm9uKCdmaW5pc2gnLCAoKSA9PiB1cGxvYWRTdHJlYW0uZW5kKCkpO1xuICAgIHVwbG9hZERhdGFTdHJlYW0ub25jZSgncmVhZGFibGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBlbnN1cmUgdGhlIGpvYiBpcyBvcGVuZWQgaW4gc2VydmVyIG9yIGpvYiBpZCBpcyBhbHJlYWR5IGFzc2lnbmVkXG4gICAgICAgIGF3YWl0IHRoaXMuam9iLnJlYWR5KCk7XG4gICAgICAgIC8vIHBpcGUgdXBsb2FkIGRhdGEgdG8gYmF0Y2ggQVBJIHJlcXVlc3Qgc3RyZWFtXG4gICAgICAgIHVwbG9hZERhdGFTdHJlYW0ucGlwZSh0aGlzLl9jcmVhdGVSZXF1ZXN0U3RyZWFtKCkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZHVwbGV4IGRhdGEgc3RyZWFtLCBvcGVuZWQgYWNjZXNzIHRvIEFQSSBwcm9ncmFtbWVycyBieSBCYXRjaCNzdHJlYW0oKVxuICAgIHRoaXMuX2RhdGFTdHJlYW0gPSBjb25jYXRTdHJlYW1zQXNEdXBsZXgoXG4gICAgICB1cGxvYWREYXRhU3RyZWFtLFxuICAgICAgZG93bmxvYWREYXRhU3RyZWFtLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdCBiYXRjaCBBUEkgYW5kIGNyZWF0ZSBzdHJlYW0gaW5zdGFuY2Ugb2YgcmVxdWVzdC9yZXNwb25zZVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZVJlcXVlc3RTdHJlYW0oKSB7XG4gICAgY29uc3QgYnVsayA9IHRoaXMuX2J1bGs7XG4gICAgY29uc3QgbG9nZ2VyID0gYnVsay5fbG9nZ2VyO1xuICAgIGNvbnN0IHJlcSA9IGJ1bGsuX3JlcXVlc3Q8QmF0Y2hJbmZvUmVzcG9uc2U+KHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgcGF0aDogJy9qb2IvJyArIHRoaXMuam9iLmlkICsgJy9iYXRjaCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9jc3YnLFxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2FwcGxpY2F0aW9uL3htbCcsXG4gICAgfSk7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcTtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKHJlcy5iYXRjaEluZm8pO1xuICAgICAgICB0aGlzLmlkID0gcmVzLmJhdGNoSW5mby5pZDtcbiAgICAgICAgdGhpcy5lbWl0KCdxdWV1ZScsIHJlcy5iYXRjaEluZm8pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuIHJlcS5zdHJlYW0oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnRhdGlvbiBvZiBXcml0YWJsZVxuICAgKi9cbiAgX3dyaXRlKHJlY29yZF86IFJlY29yZCwgZW5jOiBzdHJpbmcsIGNiOiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgeyBJZCwgdHlwZSwgYXR0cmlidXRlcywgLi4ucnJlYyB9ID0gcmVjb3JkXztcbiAgICBsZXQgcmVjb3JkO1xuICAgIHN3aXRjaCAodGhpcy5qb2Iub3BlcmF0aW9uKSB7XG4gICAgICBjYXNlICdpbnNlcnQnOlxuICAgICAgICByZWNvcmQgPSBycmVjO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICBjYXNlICdoYXJkRGVsZXRlJzpcbiAgICAgICAgcmVjb3JkID0geyBJZCB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlY29yZCA9IHsgSWQsIC4uLnJyZWMgfTtcbiAgICB9XG4gICAgdGhpcy5fdXBsb2FkU3RyZWFtLndyaXRlKHJlY29yZCwgZW5jLCBjYik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBkdXBsZXggc3RyZWFtIHdoaWNoIGFjY2VwdHMgQ1NWIGRhdGEgaW5wdXQgYW5kIGJhdGNoIHJlc3VsdCBvdXRwdXRcbiAgICovXG4gIHN0cmVhbSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YVN0cmVhbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGJhdGNoIG9wZXJhdGlvblxuICAgKi9cbiAgZXhlY3V0ZShpbnB1dD86IHN0cmluZyB8IFJlY29yZFtdIHwgUmVhZGFibGUpIHtcbiAgICAvLyBpZiBiYXRjaCBpcyBhbHJlYWR5IGV4ZWN1dGVkXG4gICAgaWYgKHRoaXMuX3Jlc3VsdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYXRjaCBhbHJlYWR5IGV4ZWN1dGVkLicpO1xuICAgIH1cblxuICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMub25jZSgncmVzcG9uc2UnLCByZXNvbHZlKTtcbiAgICAgIHRoaXMub25jZSgnZXJyb3InLCByZWplY3QpO1xuICAgIH0pO1xuXG4gICAgaWYgKGlzT2JqZWN0KGlucHV0KSAmJiAncGlwZScgaW4gaW5wdXQgJiYgaXNGdW5jdGlvbihpbnB1dC5waXBlKSkge1xuICAgICAgLy8gaWYgaW5wdXQgaGFzIHN0cmVhbS5SZWFkYWJsZSBpbnRlcmZhY2VcbiAgICAgIGlucHV0LnBpcGUodGhpcy5fZGF0YVN0cmVhbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBpbnB1dCkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlY29yZCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVjb3JkW2tleV0gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICByZWNvcmRba2V5XSA9IFN0cmluZyhyZWNvcmRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMud3JpdGUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2RhdGFTdHJlYW0ud3JpdGUoaW5wdXQsICd1dGY4Jyk7XG4gICAgICAgIHRoaXMuX2RhdGFTdHJlYW0uZW5kKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmV0dXJuIEJhdGNoIGluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcnVuID0gdGhpcy5leGVjdXRlO1xuXG4gIGV4ZWMgPSB0aGlzLmV4ZWN1dGU7XG5cbiAgLyoqXG4gICAqIFByb21pc2UvQSsgaW50ZXJmYWNlXG4gICAqIERlbGVnYXRlIHRvIHByb21pc2UsIHJldHVybiBwcm9taXNlIGluc3RhbmNlIGZvciBiYXRjaCByZXN1bHRcbiAgICovXG4gIHRoZW4oXG4gICAgb25SZXNvbHZlZDogKHJlczogQmF0Y2hSZXN1bHQ8T3ByPikgPT4gdm9pZCxcbiAgICBvblJlamVjdDogKGVycjogYW55KSA9PiB2b2lkLFxuICApIHtcbiAgICBpZiAoIXRoaXMuX3Jlc3VsdCkge1xuICAgICAgdGhpcy5leGVjdXRlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZXN1bHQhLnRoZW4ob25SZXNvbHZlZCwgb25SZWplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHRoZSBsYXRlc3QgYmF0Y2ggc3RhdHVzIGluIHNlcnZlclxuICAgKi9cbiAgYXN5bmMgY2hlY2soKSB7XG4gICAgY29uc3QgYnVsayA9IHRoaXMuX2J1bGs7XG4gICAgY29uc3QgbG9nZ2VyID0gYnVsay5fbG9nZ2VyO1xuICAgIGNvbnN0IGpvYklkID0gdGhpcy5qb2IuaWQ7XG4gICAgY29uc3QgYmF0Y2hJZCA9IHRoaXMuaWQ7XG5cbiAgICBpZiAoIWpvYklkIHx8ICFiYXRjaElkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhdGNoIG5vdCBzdGFydGVkLicpO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBhd2FpdCBidWxrLl9yZXF1ZXN0PEJhdGNoSW5mb1Jlc3BvbnNlPih7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGF0aDogJy9qb2IvJyArIGpvYklkICsgJy9iYXRjaC8nICsgYmF0Y2hJZCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2FwcGxpY2F0aW9uL3htbCcsXG4gICAgfSk7XG4gICAgbG9nZ2VyLmRlYnVnKHJlcy5iYXRjaEluZm8pO1xuICAgIHJldHVybiByZXMuYmF0Y2hJbmZvO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvbGxpbmcgdGhlIGJhdGNoIHJlc3VsdCBhbmQgcmV0cmlldmVcbiAgICovXG4gIHBvbGwoaW50ZXJ2YWw6IG51bWJlciwgdGltZW91dDogbnVtYmVyKSB7XG4gICAgY29uc3Qgam9iSWQgPSB0aGlzLmpvYi5pZDtcbiAgICBjb25zdCBiYXRjaElkID0gdGhpcy5pZDtcblxuICAgIGlmICgham9iSWQgfHwgIWJhdGNoSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQmF0Y2ggbm90IHN0YXJ0ZWQuJyk7XG4gICAgfVxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IHBvbGwgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGlmIChzdGFydFRpbWUgKyB0aW1lb3V0IDwgbm93KSB7XG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyBQb2xsaW5nVGltZW91dEVycm9yKFxuICAgICAgICAgICdQb2xsaW5nIHRpbWUgb3V0LiBKb2IgSWQgPSAnICsgam9iSWQgKyAnICwgYmF0Y2ggSWQgPSAnICsgYmF0Y2hJZCxcbiAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICBiYXRjaElkLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHJlcztcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcyA9IGF3YWl0IHRoaXMuY2hlY2soKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlcy5zdGF0ZSA9PT0gJ0ZhaWxlZCcpIHtcbiAgICAgICAgaWYgKHBhcnNlSW50KHJlcy5udW1iZXJSZWNvcmRzUHJvY2Vzc2VkLCAxMCkgPiAwKSB7XG4gICAgICAgICAgdGhpcy5yZXRyaWV2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IocmVzLnN0YXRlTWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlcy5zdGF0ZSA9PT0gJ0NvbXBsZXRlZCcpIHtcbiAgICAgICAgdGhpcy5yZXRyaWV2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbWl0KCdwcm9ncmVzcycsIHJlcyk7XG4gICAgICAgIHNldFRpbWVvdXQocG9sbCwgaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH07XG4gICAgc2V0VGltZW91dChwb2xsLCBpbnRlcnZhbCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgYmF0Y2ggcmVzdWx0XG4gICAqL1xuICBhc3luYyByZXRyaWV2ZSgpIHtcbiAgICBjb25zdCBidWxrID0gdGhpcy5fYnVsaztcbiAgICBjb25zdCBqb2JJZCA9IHRoaXMuam9iLmlkO1xuICAgIGNvbnN0IGpvYiA9IHRoaXMuam9iO1xuICAgIGNvbnN0IGJhdGNoSWQgPSB0aGlzLmlkO1xuXG4gICAgaWYgKCFqb2JJZCB8fCAhYmF0Y2hJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYXRjaCBub3Qgc3RhcnRlZC4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGJ1bGsuX3JlcXVlc3Q8XG4gICAgICAgIEJ1bGtJbmdlc3RSZXN1bHRSZXNwb25zZSB8IEJ1bGtRdWVyeVJlc3VsdFJlc3BvbnNlXG4gICAgICA+KHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgcGF0aDogJy9qb2IvJyArIGpvYklkICsgJy9iYXRjaC8nICsgYmF0Y2hJZCArICcvcmVzdWx0JyxcbiAgICAgIH0pO1xuICAgICAgbGV0IHJlc3VsdHM6IEJ1bGtJbmdlc3RCYXRjaFJlc3VsdCB8IEJ1bGtRdWVyeUJhdGNoUmVzdWx0O1xuICAgICAgaWYgKGpvYi5vcGVyYXRpb24gPT09ICdxdWVyeScgfHwgam9iLm9wZXJhdGlvbiA9PT0gJ3F1ZXJ5QWxsJykge1xuICAgICAgICBjb25zdCByZXMgPSByZXNwIGFzIEJ1bGtRdWVyeVJlc3VsdFJlc3BvbnNlO1xuICAgICAgICBsZXQgcmVzdWx0SWQgPSByZXNbJ3Jlc3VsdC1saXN0J10ucmVzdWx0O1xuICAgICAgICByZXN1bHRzID0gKEFycmF5LmlzQXJyYXkocmVzdWx0SWQpXG4gICAgICAgICAgPyByZXN1bHRJZFxuICAgICAgICAgIDogW3Jlc3VsdElkXVxuICAgICAgICApLm1hcCgoaWQpID0+ICh7IGlkLCBiYXRjaElkLCBqb2JJZCB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCByZXMgPSByZXNwIGFzIEJ1bGtJbmdlc3RSZXN1bHRSZXNwb25zZTtcbiAgICAgICAgcmVzdWx0cyA9IHJlcy5tYXAoKHJldCkgPT4gKHtcbiAgICAgICAgICBpZDogcmV0LklkIHx8IG51bGwsXG4gICAgICAgICAgc3VjY2VzczogcmV0LlN1Y2Nlc3MgPT09ICd0cnVlJyxcbiAgICAgICAgICBlcnJvcnM6IHJldC5FcnJvciA/IFtyZXQuRXJyb3JdIDogW10sXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdCgncmVzcG9uc2UnLCByZXN1bHRzKTtcbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIHF1ZXJ5IHJlc3VsdCBhcyBhIHJlY29yZCBzdHJlYW1cbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlc3VsdElkIC0gUmVzdWx0IGlkXG4gICAqIEByZXR1cm5zIHtSZWNvcmRTdHJlYW19IC0gUmVjb3JkIHN0cmVhbSwgY29udmVydGlibGUgdG8gQ1NWIGRhdGEgc3RyZWFtXG4gICAqL1xuICByZXN1bHQocmVzdWx0SWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGpvYklkID0gdGhpcy5qb2IuaWQ7XG4gICAgY29uc3QgYmF0Y2hJZCA9IHRoaXMuaWQ7XG4gICAgaWYgKCFqb2JJZCB8fCAhYmF0Y2hJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYXRjaCBub3Qgc3RhcnRlZC4nKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0U3RyZWFtID0gbmV3IFBhcnNhYmxlKCk7XG4gICAgY29uc3QgcmVzdWx0RGF0YVN0cmVhbSA9IHJlc3VsdFN0cmVhbS5zdHJlYW0oJ2NzdicpO1xuICAgIHRoaXMuX2J1bGtcbiAgICAgIC5fcmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhdGg6ICcvam9iLycgKyBqb2JJZCArICcvYmF0Y2gvJyArIGJhdGNoSWQgKyAnL3Jlc3VsdC8nICsgcmVzdWx0SWQsXG4gICAgICAgIHJlc3BvbnNlVHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgICB9KVxuICAgICAgLnN0cmVhbSgpXG4gICAgICAucGlwZShyZXN1bHREYXRhU3RyZWFtKTtcbiAgICByZXR1cm4gcmVzdWx0U3RyZWFtO1xuICB9XG59XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyoqXG4gKlxuICovXG5jbGFzcyBCdWxrQXBpPFMgZXh0ZW5kcyBTY2hlbWE+IGV4dGVuZHMgSHR0cEFwaTxTPiB7XG4gIGJlZm9yZVNlbmQocmVxdWVzdDogSHR0cFJlcXVlc3QpIHtcbiAgICByZXF1ZXN0LmhlYWRlcnMgPSB7XG4gICAgICAuLi5yZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAnWC1TRkRDLVNFU1NJT04nOiB0aGlzLl9jb25uLmFjY2Vzc1Rva2VuID8/ICcnLFxuICAgIH07XG4gIH1cblxuICBpc1Nlc3Npb25FeHBpcmVkKHJlc3BvbnNlOiBIdHRwUmVzcG9uc2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgcmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDAwICYmXG4gICAgICAvPGV4Y2VwdGlvbkNvZGU+SW52YWxpZFNlc3Npb25JZDxcXC9leGNlcHRpb25Db2RlPi8udGVzdChyZXNwb25zZS5ib2R5KVxuICAgICk7XG4gIH1cblxuICBoYXNFcnJvckluUmVzcG9uc2VCb2R5KGJvZHk6IGFueSkge1xuICAgIHJldHVybiAhIWJvZHkuZXJyb3I7XG4gIH1cblxuICBwYXJzZUVycm9yKGJvZHk6IGFueSkge1xuICAgIHJldHVybiB7XG4gICAgICBlcnJvckNvZGU6IGJvZHkuZXJyb3IuZXhjZXB0aW9uQ29kZSxcbiAgICAgIG1lc3NhZ2U6IGJvZHkuZXJyb3IuZXhjZXB0aW9uTWVzc2FnZSxcbiAgICB9O1xuICB9XG59XG5cbmNsYXNzIEJ1bGtBcGlWMjxTIGV4dGVuZHMgU2NoZW1hPiBleHRlbmRzIEh0dHBBcGk8Uz4ge1xuICBoYXNFcnJvckluUmVzcG9uc2VCb2R5KGJvZHk6IGFueSkge1xuICAgIHJldHVybiAoXG4gICAgICBBcnJheS5pc0FycmF5KGJvZHkpICYmXG4gICAgICB0eXBlb2YgYm9keVswXSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICdlcnJvckNvZGUnIGluIGJvZHlbMF1cbiAgICApO1xuICB9XG5cbiAgaXNTZXNzaW9uRXhwaXJlZChyZXNwb25zZTogSHR0cFJlc3BvbnNlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDQwMSAmJiAvSU5WQUxJRF9TRVNTSU9OX0lELy50ZXN0KHJlc3BvbnNlLmJvZHkpXG4gICAgKTtcbiAgfVxuXG4gIHBhcnNlRXJyb3IoYm9keTogYW55KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yQ29kZTogYm9keVswXS5lcnJvckNvZGUsXG4gICAgICBtZXNzYWdlOiBib2R5WzBdLm1lc3NhZ2UsXG4gICAgfTtcbiAgfVxufVxuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuLyoqXG4gKiBDbGFzcyBmb3IgQnVsayBBUElcbiAqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGNsYXNzIEJ1bGs8UyBleHRlbmRzIFNjaGVtYT4ge1xuICBfY29ubjogQ29ubmVjdGlvbjxTPjtcbiAgX2xvZ2dlcjogTG9nZ2VyO1xuXG4gIC8qKlxuICAgKiBQb2xsaW5nIGludGVydmFsIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgcG9sbEludGVydmFsID0gMTAwMDtcblxuICAvKipcbiAgICogUG9sbGluZyB0aW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgcG9sbFRpbWVvdXQgPSAxMDAwMDtcblxuICAvKipcbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbm46IENvbm5lY3Rpb248Uz4pIHtcbiAgICB0aGlzLl9jb25uID0gY29ubjtcbiAgICB0aGlzLl9sb2dnZXIgPSBjb25uLl9sb2dnZXI7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICovXG4gIF9yZXF1ZXN0PFQ+KHJlcXVlc3RfOiBCdWxrUmVxdWVzdCkge1xuICAgIGNvbnN0IGNvbm4gPSB0aGlzLl9jb25uO1xuICAgIGNvbnN0IHsgcGF0aCwgcmVzcG9uc2VUeXBlLCAuLi5ycmVxIH0gPSByZXF1ZXN0XztcbiAgICBjb25zdCBiYXNlVXJsID0gW2Nvbm4uaW5zdGFuY2VVcmwsICdzZXJ2aWNlcy9hc3luYycsIGNvbm4udmVyc2lvbl0uam9pbihcbiAgICAgICcvJyxcbiAgICApO1xuICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAuLi5ycmVxLFxuICAgICAgdXJsOiBiYXNlVXJsICsgcGF0aCxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgQnVsa0FwaSh0aGlzLl9jb25uLCB7IHJlc3BvbnNlVHlwZSB9KS5yZXF1ZXN0PFQ+KHJlcXVlc3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgc3RhcnQgYnVsa2xvYWQgam9iIGFuZCBiYXRjaFxuICAgKi9cbiAgbG9hZDxPcHIgZXh0ZW5kcyBCdWxrT3BlcmF0aW9uPihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgb3BlcmF0aW9uOiBPcHIsXG4gICAgaW5wdXQ/OiBSZWNvcmRbXSB8IFJlYWRhYmxlIHwgc3RyaW5nLFxuICApOiBCYXRjaDxTLCBPcHI+O1xuICBsb2FkPE9wciBleHRlbmRzIEJ1bGtPcGVyYXRpb24+KFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBvcGVyYXRpb246IE9wcixcbiAgICBvcHRpb25zT3JJbnB1dD86IEJ1bGtPcHRpb25zIHwgUmVjb3JkW10gfCBSZWFkYWJsZSB8IHN0cmluZyxcbiAgICBpbnB1dD86IFJlY29yZFtdIHwgUmVhZGFibGUgfCBzdHJpbmcsXG4gICk6IEJhdGNoPFMsIE9wcj47XG4gIGxvYWQ8T3ByIGV4dGVuZHMgQnVsa09wZXJhdGlvbj4oXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG9wZXJhdGlvbjogT3ByLFxuICAgIG9wdGlvbnNPcklucHV0PzogQnVsa09wdGlvbnMgfCBSZWNvcmRbXSB8IFJlYWRhYmxlIHwgc3RyaW5nLFxuICAgIGlucHV0PzogUmVjb3JkW10gfCBSZWFkYWJsZSB8IHN0cmluZyxcbiAgKSB7XG4gICAgbGV0IG9wdGlvbnM6IEJ1bGtPcHRpb25zID0ge307XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIG9wdGlvbnNPcklucHV0ID09PSAnc3RyaW5nJyB8fFxuICAgICAgQXJyYXkuaXNBcnJheShvcHRpb25zT3JJbnB1dCkgfHxcbiAgICAgIChpc09iamVjdChvcHRpb25zT3JJbnB1dCkgJiZcbiAgICAgICAgJ3BpcGUnIGluIG9wdGlvbnNPcklucHV0ICYmXG4gICAgICAgIHR5cGVvZiBvcHRpb25zT3JJbnB1dC5waXBlID09PSAnZnVuY3Rpb24nKVxuICAgICkge1xuICAgICAgLy8gd2hlbiBvcHRpb25zIGlzIG5vdCBwbGFpbiBoYXNoIG9iamVjdCwgaXQgaXMgb21pdHRlZFxuICAgICAgaW5wdXQgPSBvcHRpb25zT3JJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPcklucHV0IGFzIEJ1bGtPcHRpb25zO1xuICAgIH1cbiAgICBjb25zdCBqb2IgPSB0aGlzLmNyZWF0ZUpvYih0eXBlLCBvcGVyYXRpb24sIG9wdGlvbnMpO1xuICAgIGNvbnN0IGJhdGNoID0gam9iLmNyZWF0ZUJhdGNoKCk7XG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IGpvYi5jbG9zZSgpO1xuICAgIGNvbnN0IGNsZWFudXBPbkVycm9yID0gKGVycjogRXJyb3IpID0+IHtcbiAgICAgIGlmIChlcnIubmFtZSAhPT0gJ1BvbGxpbmdUaW1lb3V0Jykge1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBiYXRjaC5vbigncmVzcG9uc2UnLCBjbGVhbnVwKTtcbiAgICBiYXRjaC5vbignZXJyb3InLCBjbGVhbnVwT25FcnJvcik7XG4gICAgYmF0Y2gub24oJ3F1ZXVlJywgKCkgPT4ge1xuICAgICAgYmF0Y2g/LnBvbGwodGhpcy5wb2xsSW50ZXJ2YWwsIHRoaXMucG9sbFRpbWVvdXQpO1xuICAgIH0pO1xuICAgIHJldHVybiBiYXRjaC5leGVjdXRlKGlucHV0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGJ1bGsgcXVlcnkgYW5kIGdldCByZWNvcmQgc3RyZWFtXG4gICAqL1xuICBxdWVyeShzb3FsOiBzdHJpbmcpIHtcbiAgICBjb25zdCBtID0gc29xbC5yZXBsYWNlKC9cXChbXFxzXFxTXStcXCkvZywgJycpLm1hdGNoKC9GUk9NXFxzKyhcXHcrKS9pKTtcbiAgICBpZiAoIW0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ05vIHNvYmplY3QgdHlwZSBmb3VuZCBpbiBxdWVyeSwgbWF5YmUgY2F1c2VkIGJ5IGludmFsaWQgU09RTC4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG1bMV07XG4gICAgY29uc3QgcmVjb3JkU3RyZWFtID0gbmV3IFBhcnNhYmxlKCk7XG4gICAgY29uc3QgZGF0YVN0cmVhbSA9IHJlY29yZFN0cmVhbS5zdHJlYW0oJ2NzdicpO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5sb2FkKHR5cGUsICdxdWVyeScsIHNvcWwpO1xuICAgICAgICBjb25zdCBzdHJlYW1zID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT5cbiAgICAgICAgICB0aGlzLmpvYihyZXN1bHQuam9iSWQpXG4gICAgICAgICAgICAuYmF0Y2gocmVzdWx0LmJhdGNoSWQpXG4gICAgICAgICAgICAucmVzdWx0KHJlc3VsdC5pZClcbiAgICAgICAgICAgIC5zdHJlYW0oKSxcbiAgICAgICAgKTtcbiAgICAgICAgam9pblN0cmVhbXMoc3RyZWFtcykucGlwZShkYXRhU3RyZWFtKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZWNvcmRTdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuIHJlY29yZFN0cmVhbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgam9iIGluc3RhbmNlXG4gICAqL1xuICBjcmVhdGVKb2I8T3ByIGV4dGVuZHMgQnVsa09wZXJhdGlvbj4oXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG9wZXJhdGlvbjogT3ByLFxuICAgIG9wdGlvbnM6IEJ1bGtPcHRpb25zID0ge30sXG4gICkge1xuICAgIHJldHVybiBuZXcgSm9iKHRoaXMsIHR5cGUsIG9wZXJhdGlvbiwgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgam9iIGluc3RhbmNlIHNwZWNpZmllZCBieSBnaXZlbiBqb2IgSURcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGpvYklkIC0gSm9iIElEXG4gICAqIEByZXR1cm5zIHtCdWxrfkpvYn1cbiAgICovXG4gIGpvYjxPcHIgZXh0ZW5kcyBCdWxrT3BlcmF0aW9uPihqb2JJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBKb2I8UywgT3ByPih0aGlzLCBudWxsLCBudWxsLCBudWxsLCBqb2JJZCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJ1bGtWMjxTIGV4dGVuZHMgU2NoZW1hPiB7XG4gICNjb25uZWN0aW9uOiBDb25uZWN0aW9uPFM+O1xuXG4gIC8qKlxuICAgKiBQb2xsaW5nIGludGVydmFsIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgcG9sbEludGVydmFsID0gMTAwMDtcblxuICAvKipcbiAgICogUG9sbGluZyB0aW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgcG9sbFRpbWVvdXQgPSAxMDAwMDtcblxuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uOiBDb25uZWN0aW9uPFM+KSB7XG4gICAgdGhpcy4jY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGpvYiBpbnN0YW5jZVxuICAgKi9cbiAgY3JlYXRlSm9iPE9wciBleHRlbmRzIEluZ2VzdE9wZXJhdGlvbj4oXG4gICAgb3B0aW9uczogTmV3SW5nZXN0Sm9iT3B0aW9ucyxcbiAgKTogSW5nZXN0Sm9iVjI8UywgT3ByPiB7XG4gICAgcmV0dXJuIG5ldyBJbmdlc3RKb2JWMih7XG4gICAgICBjb25uZWN0aW9uOiB0aGlzLiNjb25uZWN0aW9uLFxuICAgICAgam9iSW5mbzogb3B0aW9ucyxcbiAgICAgIHBvbGxpbmdPcHRpb25zOiB0aGlzLFxuICAgIH0pO1xuICB9XG5cbiAgam9iPE9wciBleHRlbmRzIEluZ2VzdE9wZXJhdGlvbj4oXG4gICAgb3B0aW9uczogRXhpc3RpbmdJbmdlc3RKb2JPcHRpb25zLFxuICApOiBJbmdlc3RKb2JWMjxTLCBPcHI+IHtcbiAgICByZXR1cm4gbmV3IEluZ2VzdEpvYlYyKHtcbiAgICAgIGNvbm5lY3Rpb246IHRoaXMuI2Nvbm5lY3Rpb24sXG4gICAgICBqb2JJbmZvOiBvcHRpb25zLFxuICAgICAgcG9sbGluZ09wdGlvbnM6IHRoaXMsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlLCB1cGxvYWQsIGFuZCBzdGFydCBidWxrbG9hZCBqb2JcbiAgICovXG4gIGFzeW5jIGxvYWRBbmRXYWl0Rm9yUmVzdWx0cyhcbiAgICBvcHRpb25zOiBOZXdJbmdlc3RKb2JPcHRpb25zICZcbiAgICAgIFBhcnRpYWw8QnVsa1YyUG9sbGluZ09wdGlvbnM+ICYge1xuICAgICAgICBpbnB1dDogUmVjb3JkW10gfCBSZWFkYWJsZSB8IHN0cmluZztcbiAgICAgIH0sXG4gICk6IFByb21pc2U8SW5nZXN0Sm9iVjJSZXN1bHRzPFM+PiB7XG4gICAgY29uc3Qgam9iID0gdGhpcy5jcmVhdGVKb2Iob3B0aW9ucyk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGpvYi5vcGVuKCk7XG4gICAgICBhd2FpdCBqb2IudXBsb2FkRGF0YShvcHRpb25zLmlucHV0KTtcbiAgICAgIGF3YWl0IGpvYi5jbG9zZSgpO1xuICAgICAgYXdhaXQgam9iLnBvbGwob3B0aW9ucy5wb2xsSW50ZXJ2YWwsIG9wdGlvbnMucG9sbFRpbWVvdXQpO1xuICAgICAgcmV0dXJuIGF3YWl0IGpvYi5nZXRBbGxSZXN1bHRzKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyLm5hbWUgIT09ICdKb2JQb2xsaW5nVGltZW91dEVycm9yJykge1xuICAgICAgICAvLyBmaXJlcyBvZmYgb25lIGxhc3QgYXR0ZW1wdCB0byBjbGVhbiB1cCBhbmQgaWdub3JlcyB0aGUgcmVzdWx0IHwgZXJyb3JcbiAgICAgICAgam9iLmRlbGV0ZSgpLmNhdGNoKChpZ25vcmVkKSA9PiBpZ25vcmVkKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBidWxrIHF1ZXJ5IGFuZCBnZXQgcmVjb3JkIHN0cmVhbVxuICAgKi9cbiAgYXN5bmMgcXVlcnkoXG4gICAgc29xbDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBQYXJ0aWFsPEJ1bGtWMlBvbGxpbmdPcHRpb25zPixcbiAgKTogUHJvbWlzZTxSZWNvcmRbXT4ge1xuICAgIGNvbnN0IHF1ZXJ5Sm9iID0gbmV3IFF1ZXJ5Sm9iVjIoe1xuICAgICAgY29ubmVjdGlvbjogdGhpcy4jY29ubmVjdGlvbixcbiAgICAgIG9wZXJhdGlvbjogJ3F1ZXJ5JyxcbiAgICAgIHF1ZXJ5OiBzb3FsLFxuICAgICAgcG9sbGluZ09wdGlvbnM6IHRoaXMsXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHF1ZXJ5Sm9iLm9wZW4oKTtcbiAgICAgIGF3YWl0IHF1ZXJ5Sm9iLnBvbGwob3B0aW9ucz8ucG9sbEludGVydmFsLCBvcHRpb25zPy5wb2xsVGltZW91dCk7XG4gICAgICByZXR1cm4gYXdhaXQgcXVlcnlKb2IuZ2V0UmVzdWx0cygpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyci5uYW1lICE9PSAnSm9iUG9sbGluZ1RpbWVvdXRFcnJvcicpIHtcbiAgICAgICAgLy8gZmlyZXMgb2ZmIG9uZSBsYXN0IGF0dGVtcHQgdG8gY2xlYW4gdXAgYW5kIGlnbm9yZXMgdGhlIHJlc3VsdCB8IGVycm9yXG4gICAgICAgIHF1ZXJ5Sm9iLmRlbGV0ZSgpLmNhdGNoKChpZ25vcmVkKSA9PiBpZ25vcmVkKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFF1ZXJ5Sm9iVjI8UyBleHRlbmRzIFNjaGVtYT4gZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICByZWFkb25seSAjY29ubmVjdGlvbjogQ29ubmVjdGlvbjxTPjtcbiAgcmVhZG9ubHkgI29wZXJhdGlvbjogUXVlcnlPcGVyYXRpb247XG4gIHJlYWRvbmx5ICNxdWVyeTogc3RyaW5nO1xuICByZWFkb25seSAjcG9sbGluZ09wdGlvbnM6IEJ1bGtWMlBvbGxpbmdPcHRpb25zO1xuICAjcXVlcnlSZXN1bHRzOiBSZWNvcmRbXSB8IHVuZGVmaW5lZDtcbiAgI2Vycm9yOiBFcnJvciB8IHVuZGVmaW5lZDtcbiAgam9iSW5mbzogUGFydGlhbDxKb2JJbmZvVjI+IHwgdW5kZWZpbmVkO1xuICBsb2NhdG9yOiBPcHRpb25hbDxzdHJpbmc+O1xuICBmaW5pc2hlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IENyZWF0ZVF1ZXJ5Sm9iVjJPcHRpb25zPFM+KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLiNjb25uZWN0aW9uID0gb3B0aW9ucy5jb25uZWN0aW9uO1xuICAgIHRoaXMuI29wZXJhdGlvbiA9IG9wdGlvbnMub3BlcmF0aW9uO1xuICAgIHRoaXMuI3F1ZXJ5ID0gb3B0aW9ucy5xdWVyeTtcbiAgICB0aGlzLiNwb2xsaW5nT3B0aW9ucyA9IG9wdGlvbnMucG9sbGluZ09wdGlvbnM7XG4gICAgLy8gZGVmYXVsdCBlcnJvciBoYW5kbGVyIHRvIGtlZXAgdGhlIGxhdGVzdCBlcnJvclxuICAgIHRoaXMub24oJ2Vycm9yJywgKGVycm9yKSA9PiAodGhpcy4jZXJyb3IgPSBlcnJvcikpO1xuICB9XG5cbiAgYXN5bmMgb3BlbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5qb2JJbmZvID0gYXdhaXQgdGhpcy5jcmVhdGVRdWVyeVJlcXVlc3Q8Sm9iSW5mb1YyPih7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBwYXRoOiAnJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG9wZXJhdGlvbjogdGhpcy4jb3BlcmF0aW9uLFxuICAgICAgICAgIHF1ZXJ5OiB0aGlzLiNxdWVyeSxcbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgICAgICB9LFxuICAgICAgICByZXNwb25zZVR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbWl0KCdvcGVuJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdGF0dXMgdG8gYWJvcnRcbiAgICovXG4gIGFzeW5jIGFib3J0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGF0ZTogSm9iU3RhdGVWMiA9ICdBYm9ydGVkJztcbiAgICAgIHRoaXMuam9iSW5mbyA9IGF3YWl0IHRoaXMuY3JlYXRlUXVlcnlSZXF1ZXN0PEpvYkluZm9WMj4oe1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIHBhdGg6IGAvJHt0aGlzLmpvYkluZm8/LmlkfWAsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc3RhdGUgfSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyB9LFxuICAgICAgICByZXNwb25zZVR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbWl0KCdhYm9ydGVkJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBwb2xsKFxuICAgIGludGVydmFsOiBudW1iZXIgPSB0aGlzLiNwb2xsaW5nT3B0aW9ucy5wb2xsSW50ZXJ2YWwsXG4gICAgdGltZW91dDogbnVtYmVyID0gdGhpcy4jcG9sbGluZ09wdGlvbnMucG9sbFRpbWVvdXQsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGpvYklkID0gZ2V0Sm9iSWRPckVycm9yKHRoaXMuam9iSW5mbyk7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIHdoaWxlIChzdGFydFRpbWUgKyB0aW1lb3V0ID4gRGF0ZS5ub3coKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jaGVjaygpO1xuICAgICAgICBzd2l0Y2ggKHJlcy5zdGF0ZSkge1xuICAgICAgICAgIGNhc2UgJ09wZW4nOlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdKb2IgaGFzIG5vdCBiZWVuIHN0YXJ0ZWQnKTtcbiAgICAgICAgICBjYXNlICdBYm9ydGVkJzpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSm9iIGhhcyBiZWVuIGFib3J0ZWQnKTtcbiAgICAgICAgICBjYXNlICdVcGxvYWRDb21wbGV0ZSc6XG4gICAgICAgICAgY2FzZSAnSW5Qcm9ncmVzcyc6XG4gICAgICAgICAgICBhd2FpdCBkZWxheShpbnRlcnZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdGYWlsZWQnOlxuICAgICAgICAgICAgdGhpcy5lbWl0KCdmYWlsZWQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjYXNlICdKb2JDb21wbGV0ZSc6XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2pvYmNvbXBsZXRlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHRpbWVvdXRFcnJvciA9IG5ldyBKb2JQb2xsaW5nVGltZW91dEVycm9yKFxuICAgICAgYFBvbGxpbmcgdGltZSBvdXQuIEpvYiBJZCA9ICR7am9iSWR9YCxcbiAgICAgIGpvYklkLFxuICAgICk7XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIHRpbWVvdXRFcnJvcik7XG4gICAgdGhyb3cgdGltZW91dEVycm9yO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHRoZSBsYXRlc3QgYmF0Y2ggc3RhdHVzIGluIHNlcnZlclxuICAgKi9cbiAgYXN5bmMgY2hlY2soKTogUHJvbWlzZTxKb2JJbmZvVjI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgam9iSW5mbyA9IGF3YWl0IHRoaXMuY3JlYXRlUXVlcnlSZXF1ZXN0PEpvYkluZm9WMj4oe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXRoOiBgLyR7Z2V0Sm9iSWRPckVycm9yKHRoaXMuam9iSW5mbyl9YCxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuam9iSW5mbyA9IGpvYkluZm87XG4gICAgICByZXR1cm4gam9iSW5mbztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVxdWVzdDxSID0gdW5rbm93bj4oXG4gICAgcmVxdWVzdDogc3RyaW5nIHwgSHR0cFJlcXVlc3QsXG4gICAgb3B0aW9uczogT2JqZWN0ID0ge30sXG4gICk6IFN0cmVhbVByb21pc2U8Uj4ge1xuICAgIC8vIGlmIHJlcXVlc3QgaXMgc2ltcGxlIHN0cmluZywgcmVnYXJkIGl0IGFzIHVybCBpbiBHRVQgbWV0aG9kXG4gICAgbGV0IHJlcXVlc3RfOiBIdHRwUmVxdWVzdCA9XG4gICAgICB0eXBlb2YgcmVxdWVzdCA9PT0gJ3N0cmluZycgPyB7IG1ldGhvZDogJ0dFVCcsIHVybDogcmVxdWVzdCB9IDogcmVxdWVzdDtcblxuICAgIGNvbnN0IGh0dHBBcGkgPSBuZXcgSHR0cEFwaSh0aGlzLiNjb25uZWN0aW9uLCBvcHRpb25zKTtcbiAgICBodHRwQXBpLm9uKCdyZXNwb25zZScsIChyZXNwb25zZTogSHR0cFJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLmxvY2F0b3IgPSByZXNwb25zZS5oZWFkZXJzWydzZm9yY2UtbG9jYXRvciddO1xuICAgIH0pO1xuICAgIHJldHVybiBodHRwQXBpLnJlcXVlc3Q8Uj4ocmVxdWVzdF8pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRSZXN1bHRzVXJsKCkge1xuICAgIGNvbnN0IHVybCA9IGAke3RoaXMuI2Nvbm5lY3Rpb24uaW5zdGFuY2VVcmx9L3NlcnZpY2VzL2RhdGEvdiR7XG4gICAgICB0aGlzLiNjb25uZWN0aW9uLnZlcnNpb25cbiAgICB9L2pvYnMvcXVlcnkvJHtnZXRKb2JJZE9yRXJyb3IodGhpcy5qb2JJbmZvKX0vcmVzdWx0c2A7XG5cbiAgICByZXR1cm4gdGhpcy5sb2NhdG9yID8gYCR7dXJsfT9sb2NhdG9yPSR7dGhpcy5sb2NhdG9yfWAgOiB1cmw7XG4gIH1cblxuICBhc3luYyBnZXRSZXN1bHRzKCk6IFByb21pc2U8UmVjb3JkW10+IHtcbiAgICBpZiAodGhpcy5maW5pc2hlZCAmJiB0aGlzLiNxdWVyeVJlc3VsdHMpIHtcbiAgICAgIHJldHVybiB0aGlzLiNxdWVyeVJlc3VsdHM7XG4gICAgfVxuXG4gICAgdGhpcy4jcXVlcnlSZXN1bHRzID0gW107XG5cbiAgICB3aGlsZSAodGhpcy5sb2NhdG9yICE9PSAnbnVsbCcpIHtcbiAgICAgIGNvbnN0IG5leHRSZXN1bHRzID0gYXdhaXQgdGhpcy5yZXF1ZXN0PFJlY29yZFtdPih7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogdGhpcy5nZXRSZXN1bHRzVXJsKCksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBY2NlcHQ6ICd0ZXh0L2NzdicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgdGhpcy4jcXVlcnlSZXN1bHRzID0gdGhpcy4jcXVlcnlSZXN1bHRzLmNvbmNhdChuZXh0UmVzdWx0cyk7XG4gICAgfVxuICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXMuI3F1ZXJ5UmVzdWx0cztcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVRdWVyeVJlcXVlc3Q8dm9pZD4oe1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIHBhdGg6IGAvJHtnZXRKb2JJZE9yRXJyb3IodGhpcy5qb2JJbmZvKX1gLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVRdWVyeVJlcXVlc3Q8VD4ocmVxdWVzdDogQnVsa1JlcXVlc3QpIHtcbiAgICBjb25zdCB7IHBhdGgsIHJlc3BvbnNlVHlwZSB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCBiYXNlVXJsID0gW1xuICAgICAgdGhpcy4jY29ubmVjdGlvbi5pbnN0YW5jZVVybCxcbiAgICAgICdzZXJ2aWNlcy9kYXRhJyxcbiAgICAgIGB2JHt0aGlzLiNjb25uZWN0aW9uLnZlcnNpb259YCxcbiAgICAgICdqb2JzL3F1ZXJ5JyxcbiAgICBdLmpvaW4oJy8nKTtcblxuICAgIHJldHVybiBuZXcgQnVsa0FwaVYyKHRoaXMuI2Nvbm5lY3Rpb24sIHsgcmVzcG9uc2VUeXBlIH0pLnJlcXVlc3Q8VD4oe1xuICAgICAgLi4ucmVxdWVzdCxcbiAgICAgIHVybDogYmFzZVVybCArIHBhdGgsXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGFzcyBmb3IgQnVsayBBUEkgVjIgSW5nZXN0IEpvYlxuICovXG5leHBvcnQgY2xhc3MgSW5nZXN0Sm9iVjI8XG4gIFMgZXh0ZW5kcyBTY2hlbWEsXG4gIE9wciBleHRlbmRzIEluZ2VzdE9wZXJhdGlvblxuPiBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIHJlYWRvbmx5ICNjb25uZWN0aW9uOiBDb25uZWN0aW9uPFM+O1xuICByZWFkb25seSAjcG9sbGluZ09wdGlvbnM6IEJ1bGtWMlBvbGxpbmdPcHRpb25zO1xuICByZWFkb25seSAjam9iRGF0YTogSm9iRGF0YVYyPFMsIE9wcj47XG4gICNidWxrSm9iU3VjY2Vzc2Z1bFJlc3VsdHM6IEluZ2VzdEpvYlYyU3VjY2Vzc2Z1bFJlc3VsdHM8Uz4gfCB1bmRlZmluZWQ7XG4gICNidWxrSm9iRmFpbGVkUmVzdWx0czogSW5nZXN0Sm9iVjJGYWlsZWRSZXN1bHRzPFM+IHwgdW5kZWZpbmVkO1xuICAjYnVsa0pvYlVucHJvY2Vzc2VkUmVjb3JkczogSW5nZXN0Sm9iVjJVbnByb2Nlc3NlZFJlY29yZHM8Uz4gfCB1bmRlZmluZWQ7XG4gICNlcnJvcjogRXJyb3IgfCB1bmRlZmluZWQ7XG4gIGpvYkluZm86IFBhcnRpYWw8Sm9iSW5mb1YyPjtcblxuICAvKipcbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IENyZWF0ZUluZ2VzdEpvYlYyT3B0aW9uczxTPikge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLiNjb25uZWN0aW9uID0gb3B0aW9ucy5jb25uZWN0aW9uO1xuICAgIHRoaXMuI3BvbGxpbmdPcHRpb25zID0gb3B0aW9ucy5wb2xsaW5nT3B0aW9ucztcbiAgICB0aGlzLmpvYkluZm8gPSBvcHRpb25zLmpvYkluZm87XG4gICAgdGhpcy4jam9iRGF0YSA9IG5ldyBKb2JEYXRhVjI8UywgT3ByPih7XG4gICAgICBjcmVhdGVSZXF1ZXN0OiAocmVxdWVzdCkgPT4gdGhpcy5jcmVhdGVJbmdlc3RSZXF1ZXN0KHJlcXVlc3QpLFxuICAgICAgam9iOiB0aGlzLFxuICAgIH0pO1xuICAgIC8vIGRlZmF1bHQgZXJyb3IgaGFuZGxlciB0byBrZWVwIHRoZSBsYXRlc3QgZXJyb3JcbiAgICB0aGlzLm9uKCdlcnJvcicsIChlcnJvcikgPT4gKHRoaXMuI2Vycm9yID0gZXJyb3IpKTtcbiAgfVxuXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5qb2JJbmZvLmlkO1xuICB9XG5cbiAgYXN5bmMgb3BlbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5qb2JJbmZvID0gYXdhaXQgdGhpcy5jcmVhdGVJbmdlc3RSZXF1ZXN0PEpvYkluZm9WMj4oe1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgcGF0aDogJycsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhc3NpZ25tZW50UnVsZUlkOiB0aGlzLmpvYkluZm8/LmFzc2lnbm1lbnRSdWxlSWQsXG4gICAgICAgICAgZXh0ZXJuYWxJZEZpZWxkTmFtZTogdGhpcy5qb2JJbmZvPy5leHRlcm5hbElkRmllbGROYW1lLFxuICAgICAgICAgIG9iamVjdDogdGhpcy5qb2JJbmZvPy5vYmplY3QsXG4gICAgICAgICAgb3BlcmF0aW9uOiB0aGlzLmpvYkluZm8/Lm9wZXJhdGlvbixcbiAgICAgICAgICBsaW5lRW5kaW5nOiB0aGlzLmpvYkluZm8/LmxpbmVFbmRpbmcsXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZW1pdCgnb3BlbicpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBsb2FkRGF0YShpbnB1dDogc3RyaW5nIHwgUmVjb3JkW10gfCBSZWFkYWJsZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuI2pvYkRhdGEuZXhlY3V0ZShpbnB1dCk7XG4gIH1cblxuICBhc3luYyBnZXRBbGxSZXN1bHRzKCk6IFByb21pc2U8SW5nZXN0Sm9iVjJSZXN1bHRzPFM+PiB7XG4gICAgY29uc3QgW1xuICAgICAgc3VjY2Vzc2Z1bFJlc3VsdHMsXG4gICAgICBmYWlsZWRSZXN1bHRzLFxuICAgICAgdW5wcm9jZXNzZWRSZWNvcmRzLFxuICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLmdldFN1Y2Nlc3NmdWxSZXN1bHRzKCksXG4gICAgICB0aGlzLmdldEZhaWxlZFJlc3VsdHMoKSxcbiAgICAgIHRoaXMuZ2V0VW5wcm9jZXNzZWRSZWNvcmRzKCksXG4gICAgXSk7XG4gICAgcmV0dXJuIHsgc3VjY2Vzc2Z1bFJlc3VsdHMsIGZhaWxlZFJlc3VsdHMsIHVucHJvY2Vzc2VkUmVjb3JkcyB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIG9wZW5lZCBqb2JcbiAgICovXG4gIGFzeW5jIGNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdGF0ZTogSm9iU3RhdGVWMiA9ICdVcGxvYWRDb21wbGV0ZSc7XG4gICAgICB0aGlzLmpvYkluZm8gPSBhd2FpdCB0aGlzLmNyZWF0ZUluZ2VzdFJlcXVlc3Q8Sm9iSW5mb1YyPih7XG4gICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgcGF0aDogYC8ke3RoaXMuam9iSW5mby5pZH1gLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHN0YXRlIH0pLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcgfSxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZW1pdCgndXBsb2FkY29tcGxldGUnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0YXR1cyB0byBhYm9ydFxuICAgKi9cbiAgYXN5bmMgYWJvcnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXRlOiBKb2JTdGF0ZVYyID0gJ0Fib3J0ZWQnO1xuICAgICAgdGhpcy5qb2JJbmZvID0gYXdhaXQgdGhpcy5jcmVhdGVJbmdlc3RSZXF1ZXN0PEpvYkluZm9WMj4oe1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIHBhdGg6IGAvJHt0aGlzLmpvYkluZm8uaWR9YCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzdGF0ZSB9KSxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnIH0sXG4gICAgICAgIHJlc3BvbnNlVHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSk7XG4gICAgICB0aGlzLmVtaXQoJ2Fib3J0ZWQnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHBvbGwoXG4gICAgaW50ZXJ2YWw6IG51bWJlciA9IHRoaXMuI3BvbGxpbmdPcHRpb25zLnBvbGxJbnRlcnZhbCxcbiAgICB0aW1lb3V0OiBudW1iZXIgPSB0aGlzLiNwb2xsaW5nT3B0aW9ucy5wb2xsVGltZW91dCxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgam9iSWQgPSBnZXRKb2JJZE9yRXJyb3IodGhpcy5qb2JJbmZvKTtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgd2hpbGUgKHN0YXJ0VGltZSArIHRpbWVvdXQgPiBEYXRlLm5vdygpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNoZWNrKCk7XG4gICAgICAgIHN3aXRjaCAocmVzLnN0YXRlKSB7XG4gICAgICAgICAgY2FzZSAnT3Blbic6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0pvYiBoYXMgbm90IGJlZW4gc3RhcnRlZCcpO1xuICAgICAgICAgIGNhc2UgJ0Fib3J0ZWQnOlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdKb2IgaGFzIGJlZW4gYWJvcnRlZCcpO1xuICAgICAgICAgIGNhc2UgJ1VwbG9hZENvbXBsZXRlJzpcbiAgICAgICAgICBjYXNlICdJblByb2dyZXNzJzpcbiAgICAgICAgICAgIGF3YWl0IGRlbGF5KGludGVydmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0ZhaWxlZCc6XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2ZhaWxlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNhc2UgJ0pvYkNvbXBsZXRlJzpcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnam9iY29tcGxldGUnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdGltZW91dEVycm9yID0gbmV3IEpvYlBvbGxpbmdUaW1lb3V0RXJyb3IoXG4gICAgICBgUG9sbGluZyB0aW1lIG91dC4gSm9iIElkID0gJHtqb2JJZH1gLFxuICAgICAgam9iSWQsXG4gICAgKTtcbiAgICB0aGlzLmVtaXQoJ2Vycm9yJywgdGltZW91dEVycm9yKTtcbiAgICB0aHJvdyB0aW1lb3V0RXJyb3I7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgdGhlIGxhdGVzdCBiYXRjaCBzdGF0dXMgaW4gc2VydmVyXG4gICAqL1xuICBhc3luYyBjaGVjaygpOiBQcm9taXNlPEpvYkluZm9WMj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBqb2JJbmZvID0gYXdhaXQgdGhpcy5jcmVhdGVJbmdlc3RSZXF1ZXN0PEpvYkluZm9WMj4oe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBwYXRoOiBgLyR7Z2V0Sm9iSWRPckVycm9yKHRoaXMuam9iSW5mbyl9YCxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuam9iSW5mbyA9IGpvYkluZm87XG4gICAgICByZXR1cm4gam9iSW5mbztcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldFN1Y2Nlc3NmdWxSZXN1bHRzKCk6IFByb21pc2U8SW5nZXN0Sm9iVjJTdWNjZXNzZnVsUmVzdWx0czxTPj4ge1xuICAgIGlmICh0aGlzLiNidWxrSm9iU3VjY2Vzc2Z1bFJlc3VsdHMpIHtcbiAgICAgIHJldHVybiB0aGlzLiNidWxrSm9iU3VjY2Vzc2Z1bFJlc3VsdHM7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuY3JlYXRlSW5nZXN0UmVxdWVzdDxcbiAgICAgIEluZ2VzdEpvYlYyU3VjY2Vzc2Z1bFJlc3VsdHM8Uz4gfCB1bmRlZmluZWRcbiAgICA+KHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXRoOiBgLyR7Z2V0Sm9iSWRPckVycm9yKHRoaXMuam9iSW5mbyl9L3N1Y2Nlc3NmdWxSZXN1bHRzYCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ3RleHQvY3N2JyxcbiAgICB9KTtcblxuICAgIHRoaXMuI2J1bGtKb2JTdWNjZXNzZnVsUmVzdWx0cyA9IHJlc3VsdHMgPz8gW107XG5cbiAgICByZXR1cm4gdGhpcy4jYnVsa0pvYlN1Y2Nlc3NmdWxSZXN1bHRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0RmFpbGVkUmVzdWx0cygpOiBQcm9taXNlPEluZ2VzdEpvYlYyRmFpbGVkUmVzdWx0czxTPj4ge1xuICAgIGlmICh0aGlzLiNidWxrSm9iRmFpbGVkUmVzdWx0cykge1xuICAgICAgcmV0dXJuIHRoaXMuI2J1bGtKb2JGYWlsZWRSZXN1bHRzO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLmNyZWF0ZUluZ2VzdFJlcXVlc3Q8XG4gICAgICBJbmdlc3RKb2JWMkZhaWxlZFJlc3VsdHM8Uz4gfCB1bmRlZmluZWRcbiAgICA+KHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXRoOiBgLyR7Z2V0Sm9iSWRPckVycm9yKHRoaXMuam9iSW5mbyl9L2ZhaWxlZFJlc3VsdHNgLFxuICAgICAgcmVzcG9uc2VUeXBlOiAndGV4dC9jc3YnLFxuICAgIH0pO1xuXG4gICAgdGhpcy4jYnVsa0pvYkZhaWxlZFJlc3VsdHMgPSByZXN1bHRzID8/IFtdO1xuXG4gICAgcmV0dXJuIHRoaXMuI2J1bGtKb2JGYWlsZWRSZXN1bHRzO1xuICB9XG5cbiAgYXN5bmMgZ2V0VW5wcm9jZXNzZWRSZWNvcmRzKCk6IFByb21pc2U8SW5nZXN0Sm9iVjJVbnByb2Nlc3NlZFJlY29yZHM8Uz4+IHtcbiAgICBpZiAodGhpcy4jYnVsa0pvYlVucHJvY2Vzc2VkUmVjb3Jkcykge1xuICAgICAgcmV0dXJuIHRoaXMuI2J1bGtKb2JVbnByb2Nlc3NlZFJlY29yZHM7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuY3JlYXRlSW5nZXN0UmVxdWVzdDxcbiAgICAgIEluZ2VzdEpvYlYyVW5wcm9jZXNzZWRSZWNvcmRzPFM+IHwgdW5kZWZpbmVkXG4gICAgPih7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGF0aDogYC8ke2dldEpvYklkT3JFcnJvcih0aGlzLmpvYkluZm8pfS91bnByb2Nlc3NlZHJlY29yZHNgLFxuICAgICAgcmVzcG9uc2VUeXBlOiAndGV4dC9jc3YnLFxuICAgIH0pO1xuXG4gICAgdGhpcy4jYnVsa0pvYlVucHJvY2Vzc2VkUmVjb3JkcyA9IHJlc3VsdHMgPz8gW107XG5cbiAgICByZXR1cm4gdGhpcy4jYnVsa0pvYlVucHJvY2Vzc2VkUmVjb3JkcztcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVJbmdlc3RSZXF1ZXN0PHZvaWQ+KHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBwYXRoOiBgLyR7Z2V0Sm9iSWRPckVycm9yKHRoaXMuam9iSW5mbyl9YCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlSW5nZXN0UmVxdWVzdDxUPihyZXF1ZXN0OiBCdWxrUmVxdWVzdCkge1xuICAgIGNvbnN0IHsgcGF0aCwgcmVzcG9uc2VUeXBlIH0gPSByZXF1ZXN0O1xuICAgIGNvbnN0IGJhc2VVcmwgPSBbXG4gICAgICB0aGlzLiNjb25uZWN0aW9uLmluc3RhbmNlVXJsLFxuICAgICAgJ3NlcnZpY2VzL2RhdGEnLFxuICAgICAgYHYke3RoaXMuI2Nvbm5lY3Rpb24udmVyc2lvbn1gLFxuICAgICAgJ2pvYnMvaW5nZXN0JyxcbiAgICBdLmpvaW4oJy8nKTtcblxuICAgIHJldHVybiBuZXcgQnVsa0FwaVYyKHRoaXMuI2Nvbm5lY3Rpb24sIHsgcmVzcG9uc2VUeXBlIH0pLnJlcXVlc3Q8VD4oe1xuICAgICAgLi4ucmVxdWVzdCxcbiAgICAgIHVybDogYmFzZVVybCArIHBhdGgsXG4gICAgfSk7XG4gIH1cbn1cblxuY2xhc3MgSm9iRGF0YVYyPFxuICBTIGV4dGVuZHMgU2NoZW1hLFxuICBPcHIgZXh0ZW5kcyBJbmdlc3RPcGVyYXRpb25cbj4gZXh0ZW5kcyBXcml0YWJsZSB7XG4gIHJlYWRvbmx5ICNqb2I6IEluZ2VzdEpvYlYyPFMsIE9wcj47XG4gIHJlYWRvbmx5ICN1cGxvYWRTdHJlYW06IFNlcmlhbGl6YWJsZTtcbiAgcmVhZG9ubHkgI2Rvd25sb2FkU3RyZWFtOiBQYXJzYWJsZTtcbiAgcmVhZG9ubHkgI2RhdGFTdHJlYW06IER1cGxleDtcbiAgI3Jlc3VsdDogYW55O1xuXG4gIC8qKlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9uczogQ3JlYXRlSm9iRGF0YVYyT3B0aW9uczxTLCBPcHI+KSB7XG4gICAgc3VwZXIoeyBvYmplY3RNb2RlOiB0cnVlIH0pO1xuXG4gICAgY29uc3QgY3JlYXRlUmVxdWVzdCA9IG9wdGlvbnMuY3JlYXRlUmVxdWVzdDtcblxuICAgIHRoaXMuI2pvYiA9IG9wdGlvbnMuam9iO1xuICAgIHRoaXMuI3VwbG9hZFN0cmVhbSA9IG5ldyBTZXJpYWxpemFibGUoKTtcbiAgICB0aGlzLiNkb3dubG9hZFN0cmVhbSA9IG5ldyBQYXJzYWJsZSgpO1xuXG4gICAgY29uc3QgY29udmVydGVyT3B0aW9ucyA9IHsgbnVsbFZhbHVlOiAnI04vQScgfTtcbiAgICBjb25zdCB1cGxvYWREYXRhU3RyZWFtID0gdGhpcy4jdXBsb2FkU3RyZWFtLnN0cmVhbSgnY3N2JywgY29udmVydGVyT3B0aW9ucyk7XG4gICAgY29uc3QgZG93bmxvYWREYXRhU3RyZWFtID0gdGhpcy4jZG93bmxvYWRTdHJlYW0uc3RyZWFtKFxuICAgICAgJ2NzdicsXG4gICAgICBjb252ZXJ0ZXJPcHRpb25zLFxuICAgICk7XG5cbiAgICB0aGlzLiNkYXRhU3RyZWFtID0gY29uY2F0U3RyZWFtc0FzRHVwbGV4KFxuICAgICAgdXBsb2FkRGF0YVN0cmVhbSxcbiAgICAgIGRvd25sb2FkRGF0YVN0cmVhbSxcbiAgICApO1xuXG4gICAgdGhpcy5vbignZmluaXNoJywgKCkgPT4gdGhpcy4jdXBsb2FkU3RyZWFtLmVuZCgpKTtcblxuICAgIHVwbG9hZERhdGFTdHJlYW0ub25jZSgncmVhZGFibGUnLCAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBwaXBlIHVwbG9hZCBkYXRhIHRvIGJhdGNoIEFQSSByZXF1ZXN0IHN0cmVhbVxuICAgICAgICBjb25zdCByZXEgPSBjcmVhdGVSZXF1ZXN0KHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIHBhdGg6IGAvJHt0aGlzLiNqb2Iuam9iSW5mbz8uaWR9L2JhdGNoZXNgLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9jc3YnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVzcG9uc2UnLCByZXMpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuXG4gICAgICAgIHVwbG9hZERhdGFTdHJlYW0ucGlwZShyZXEuc3RyZWFtKCkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3dyaXRlKHJlY29yZF86IFJlY29yZCwgZW5jOiBzdHJpbmcsIGNiOiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgeyBJZCwgdHlwZSwgYXR0cmlidXRlcywgLi4ucnJlYyB9ID0gcmVjb3JkXztcbiAgICBsZXQgcmVjb3JkO1xuICAgIHN3aXRjaCAodGhpcy4jam9iLmpvYkluZm8ub3BlcmF0aW9uKSB7XG4gICAgICBjYXNlICdpbnNlcnQnOlxuICAgICAgICByZWNvcmQgPSBycmVjO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICBjYXNlICdoYXJkRGVsZXRlJzpcbiAgICAgICAgcmVjb3JkID0geyBJZCB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlY29yZCA9IHsgSWQsIC4uLnJyZWMgfTtcbiAgICB9XG4gICAgdGhpcy4jdXBsb2FkU3RyZWFtLndyaXRlKHJlY29yZCwgZW5jLCBjYik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBkdXBsZXggc3RyZWFtIHdoaWNoIGFjY2VwdHMgQ1NWIGRhdGEgaW5wdXQgYW5kIGJhdGNoIHJlc3VsdCBvdXRwdXRcbiAgICovXG4gIHN0cmVhbSgpIHtcbiAgICByZXR1cm4gdGhpcy4jZGF0YVN0cmVhbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGJhdGNoIG9wZXJhdGlvblxuICAgKi9cbiAgZXhlY3V0ZShpbnB1dD86IHN0cmluZyB8IFJlY29yZFtdIHwgUmVhZGFibGUpIHtcbiAgICBpZiAodGhpcy4jcmVzdWx0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGEgY2FuIG9ubHkgYmUgdXBsb2FkZWQgdG8gYSBqb2Igb25jZS4nKTtcbiAgICB9XG5cbiAgICB0aGlzLiNyZXN1bHQgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLm9uY2UoJ3Jlc3BvbnNlJywgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgIHRoaXMub25jZSgnZXJyb3InLCByZWplY3QpO1xuICAgIH0pO1xuXG4gICAgaWYgKGlzT2JqZWN0KGlucHV0KSAmJiAncGlwZScgaW4gaW5wdXQgJiYgaXNGdW5jdGlvbihpbnB1dC5waXBlKSkge1xuICAgICAgLy8gaWYgaW5wdXQgaGFzIHN0cmVhbS5SZWFkYWJsZSBpbnRlcmZhY2VcbiAgICAgIGlucHV0LnBpcGUodGhpcy4jZGF0YVN0cmVhbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBpbnB1dCkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlY29yZCkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVjb3JkW2tleV0gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICByZWNvcmRba2V5XSA9IFN0cmluZyhyZWNvcmRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMud3JpdGUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuI2RhdGFTdHJlYW0ud3JpdGUoaW5wdXQsICd1dGY4Jyk7XG4gICAgICAgIHRoaXMuI2RhdGFTdHJlYW0uZW5kKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUHJvbWlzZS9BKyBpbnRlcmZhY2VcbiAgICogRGVsZWdhdGUgdG8gcHJvbWlzZSwgcmV0dXJuIHByb21pc2UgaW5zdGFuY2UgZm9yIGJhdGNoIHJlc3VsdFxuICAgKi9cbiAgdGhlbihvblJlc29sdmVkOiAoKSA9PiB2b2lkLCBvblJlamVjdDogKGVycjogYW55KSA9PiB2b2lkKSB7XG4gICAgaWYgKHRoaXMuI3Jlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuI3Jlc3VsdCEudGhlbihvblJlc29sdmVkLCBvblJlamVjdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Sm9iSWRPckVycm9yKGpvYkluZm86IFBhcnRpYWw8Sm9iSW5mb1YyPiB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG4gIGNvbnN0IGpvYklkID0gam9iSW5mbz8uaWQ7XG4gIGlmIChqb2JJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBqb2IgaWQsIG1heWJlIHlvdSBuZWVkIHRvIGNhbGwgYGpvYi5vcGVuKClgIGZpcnN0LicpO1xuICB9XG4gIHJldHVybiBqb2JJZDtcbn1cblxuZnVuY3Rpb24gZGVsYXkobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKlxuICogUmVnaXN0ZXIgaG9vayBpbiBjb25uZWN0aW9uIGluc3RhbnRpYXRpb24gZm9yIGR5bmFtaWNhbGx5IGFkZGluZyB0aGlzIEFQSSBtb2R1bGUgZmVhdHVyZXNcbiAqL1xucmVnaXN0ZXJNb2R1bGUoJ2J1bGsnLCAoY29ubikgPT4gbmV3IEJ1bGsoY29ubikpO1xucmVnaXN0ZXJNb2R1bGUoJ2J1bGsyJywgKGNvbm4pID0+IG5ldyBCdWxrVjIoY29ubikpO1xuXG5leHBvcnQgZGVmYXVsdCBCdWxrO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNBLFlBQVksUUFBUSxRQUFRO0FBQ3JDLFNBQTJCQyxRQUFRLFFBQVEsUUFBUTtBQUNuRCxPQUFPQyxXQUFXLE1BQU0sYUFBYTtBQUVyQyxTQUFTQyxZQUFZLEVBQUVDLFFBQVEsUUFBUSxrQkFBa0I7QUFDekQsT0FBT0MsT0FBTyxNQUFNLGFBQWE7QUFFakMsU0FBU0MsY0FBYyxRQUFRLFlBQVk7QUFFM0MsU0FBU0MscUJBQXFCLFFBQVEsZ0JBQWdCO0FBU3RELFNBQVNDLFVBQVUsRUFBRUMsUUFBUSxR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